{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{rZHr:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"ArticlePageModule\",(function(){return article_module_ArticlePageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),index_cjs=__webpack_require__(\"Wcq6\"),core=__webpack_require__(\"fXoL\"),http=__webpack_require__(\"tk/3\"),platform_browser=__webpack_require__(\"jhN1\"),firestore=__webpack_require__(\"S/Aq\");let ip_service_service_IpServiceService=(()=>{class IpServiceService{constructor(http){this.http=http}getIPAddress(){return this.http.get(\"https://api.ipify.org?format=json\")}}return IpServiceService.ɵfac=function(t){return new(t||IpServiceService)(core.Sb(http.a))},IpServiceService.ɵprov=core.Hb({token:IpServiceService,factory:IpServiceService.ɵfac,providedIn:\"root\"}),IpServiceService})();function ArticlePage_div_18_div_1_ion_slide_2_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"ion-slide\"),core.Mb(1,\"img\",39),core.Nb()),2&rf){const index_r6=ctx.$implicit,ctx_r5=core.Yb(3);core.Ab(1),core.cc(\"src\",ctx_r5.article.media.picture[index_r6],core.jc)}}function ArticlePage_div_18_div_1_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"div\",37),core.Ob(1,\"ion-slides\",38),core.mc(2,ArticlePage_div_18_div_1_ion_slide_2_Template,2,1,\"ion-slide\",14),core.Nb(),core.Nb()),2&rf){const rule_r3=core.Yb().$implicit,ctx_r4=core.Yb();core.Ab(1),core.bc(\"options\",ctx_r4.slideOpts),core.Ab(1),core.bc(\"ngForOf\",rule_r3.indexes)}}function ArticlePage_div_18_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"div\"),core.mc(1,ArticlePage_div_18_div_1_Template,3,2,\"div\",36),core.Nb()),2&rf){const rule_r3=ctx.$implicit;core.Ab(1),core.bc(\"ngIf\",\"slider\"===rule_r3.content)}}function ArticlePage_div_26_div_1_div_1_Template(rf,ctx){if(1&rf&&core.Mb(0,\"div\",42),2&rf){const index_r11=ctx.$implicit,ctx_r10=core.Yb(3);core.cc(\"innerHtml\",ctx_r10.article.content.paragraphs[index_r11],core.ic)}}function ArticlePage_div_26_div_1_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"div\"),core.mc(1,ArticlePage_div_26_div_1_div_1_Template,1,1,\"div\",41),core.Nb()),2&rf){const rule_r8=core.Yb().$implicit;core.Ab(1),core.bc(\"ngForOf\",rule_r8.indexes)}}function ArticlePage_div_26_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"div\"),core.mc(1,ArticlePage_div_26_div_1_Template,2,1,\"div\",40),core.Nb()),2&rf){const rule_r8=ctx.$implicit;core.Ab(1),core.bc(\"ngIf\",\"paragraph\"===rule_r8.content)}}const _c0=function(a1,a2){return[\"/article\",a1,a2]};function ArticlePage_ion_col_44_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"ion-col\"),core.Ob(1,\"ion-item\",43),core.Ob(2,\"ion-col\"),core.Mb(3,\"img\",44),core.Ob(4,\"ion-card-header\"),core.Ob(5,\"ion-card-title\",45),core.nc(6),core.Nb(),core.Nb(),core.Ob(7,\"ion-card-content\",46),core.Ob(8,\"div\"),core.nc(9),core.Nb(),core.Nb(),core.Nb(),core.Nb(),core.Nb()),2&rf){const article_r13=ctx.$implicit;core.Ab(1),core.bc(\"routerLink\",core.fc(4,_c0,article_r13.category,article_r13.id)),core.Ab(2),core.cc(\"src\",article_r13.media.landscape,core.jc),core.Ab(3),core.oc(article_r13.title),core.Ab(3),core.pc(\" \",article_r13.content.header.substring(0,200),\"\")}}const _c1=function(a0){return{gave:a0}},routes=[{path:\"\",component:(()=>{class ArticlePage{constructor(http,activatedRoute,sanitizer,router,firestore,ip){this.http=http,this.activatedRoute=activatedRoute,this.sanitizer=sanitizer,this.router=router,this.firestore=firestore,this.ip=ip,this.article={id:0,title:\"\",author:\"\",date:\"\",peopleInvolved:[],photosAuthor:\"\",readTime:0,poster:\"\",image:\"\",category:\"\",content:{rules:{},header:\"\",paragraphs:[]},media:{picture:[],video:[]},reactions:{beer:0,paws:0,rid:\"\"}},this.articles={popular:[],tipsAndTricks:[],concerts:[],cs:[]},this.slideOpts={initialSlide:0,speed:400,autoHeight:!0},this.collectionName=\"articles\",this.gavePaws=!1,this.gaveBeer=!1,this.activatedRoute.params.subscribe(params=>{this.id=params.id,this.category=params.type}),this.disableReactions=!1}ngOnInit(){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){this.router.onSameUrlNavigation=\"reload\",(yield this.firestore.collection(this.collectionName).ref.orderBy(\"date\",\"desc\").get()).forEach(doc=>{this.processSnapshopDoc(doc)}),yield this.getIP();var reactRef=this.firestore.collection(\"reactions\").doc(this.article.reactions.rid);const reactions=(yield reactRef.ref.get()).data();reactions.hasOwnProperty(\"views\")&&reactions.views.includes(this.ipAddress)||reactRef.update({views:index_cjs.firestore.FieldValue.arrayUnion(this.ipAddress)}),reactions.beers.includes(this.ipAddress)&&(this.gaveBeer=!0),reactions.paws.includes(this.ipAddress)&&(this.gavePaws=!0)}))}getIP(){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){return new Promise((resolve,reject)=>{this.ip.getIPAddress().subscribe(res=>{this.ipAddress=res.ip,console.log(this.ipAddress),resolve(!0)})})}))}processSnapshopDoc(doc){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){const data=doc.data();if(data.id==this.id&&data.category===this.category){this.article=data,this.articleHash=doc.id;var reactRef=this.firestore.collection(\"reactions\").doc(this.article.reactions.rid);const reactions=(yield reactRef.ref.get()).data();this.article.reactions.beer=reactions.beers.length,this.article.reactions.paws=reactions.paws.length}else this.buildMostPopularArticles(data)}))}updateArticle(doc){const data=doc.data();data.id==this.id&&data.category===this.category&&(this.article=data,this.articleHash=doc.id)}buildMostPopularArticles(data){const pop=this.articles.popular,n=pop.length;let position=0;for(let i=0;i<n-1;i++)data.views<pop[i].views&&(position+=1);for(let i=n;i>position;i--)pop[i]=pop[i-1];pop[position]=data}ngOnDestroy(){this.router.onSameUrlNavigation=\"ignore\"}delay(ms){return new Promise(resolve=>setTimeout(resolve,ms))}react(type){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){this.disableReactions=!0,this.articleHash.length<1&&(yield this.getIP());var reactRef=this.firestore.collection(\"reactions\").doc(this.article.reactions.rid);const reactions=(yield reactRef.ref.get()).data();this.firestore.collection(\"articles\").doc(this.articleHash),\"paws\"===type&&(reactions.paws.includes(this.ipAddress)?reactRef.update({paws:index_cjs.firestore.FieldValue.arrayRemove(this.ipAddress)}).then(()=>{this.article.reactions.paws-=1,this.gavePaws=!1,this.disableReactions=!1}):reactRef.update({paws:index_cjs.firestore.FieldValue.arrayUnion(this.ipAddress)}).then(()=>{this.article.reactions.paws+=1,this.gavePaws=!0,this.disableReactions=!1})),\"beer\"===type&&(reactions.beers.includes(this.ipAddress)?reactRef.update({beers:index_cjs.firestore.FieldValue.arrayRemove(this.ipAddress)}).then(()=>{this.article.reactions.beer-=1,this.gaveBeer=!1,this.disableReactions=!1}):reactRef.update({beers:index_cjs.firestore.FieldValue.arrayUnion(this.ipAddress)}).then(()=>{this.article.reactions.beer+=1,this.gaveBeer=!0,this.disableReactions=!1}))}))}objectValues(obj){return Object.values(obj)}}return ArticlePage.ɵfac=function(t){return new(t||ArticlePage)(core.Lb(http.a),core.Lb(router.a),core.Lb(platform_browser.b),core.Lb(router.f),core.Lb(firestore.a),core.Lb(ip_service_service_IpServiceService))},ArticlePage.ɵcmp=core.Fb({type:ArticlePage,selectors:[[\"app-article\"]],decls:68,vars:18,consts:[[3,\"translucent\"],[1,\"toolbar\"],[\"routerLink\",\"/home\",2,\"background-color\",\"transparent\",\"border\",\"none\",\"outline\",\"none\"],[1,\"site-title\",\"unselectable\"],[\"slot\",\"end\",1,\"toolbar-buttons\"],[\"href\",\"https://www.instagram.com/_alexdarie/\",\"target\",\"_blank\"],[\"slot\",\"icon-only\",\"ios\",\"logo-instagram\",\"md\",\"logo-instagram\",1,\"white-icons\"],[\"href\",\"https://github.com/alexdarie\",\"target\",\"_blank\"],[\"slot\",\"icon-only\",\"name\",\"logo-github\",1,\"white-icons\"],[2,\"padding\",\"0\"],[1,\"parallax\"],[1,\"article-body\"],[2,\"margin-top\",\"20px\"],[1,\"media\"],[4,\"ngFor\",\"ngForOf\"],[1,\"textual\"],[2,\"margin-bottom\",\"15px\",\"font-family\",\"'Noto Sans Avestan', sans-serif\"],[2,\"margin\",\"-25px 0 0 0\"],[1,\"author\",2,\"font-family\",\"'Noto Sans Avestan', sans-serif\"],[2,\"display\",\"flex\",\"flex-direction\",\"row\",\"padding\",\"0\",\"margin-top\",\"10px\",\"--background-color\",\"gray\"],[\"slot\",\"end\"],[3,\"disabled\",\"click\"],[\"slot\",\"icon-only\",\"ios\",\"beer\",\"md\",\"beer\",1,\"did-not-give\",3,\"ngClass\"],[\"slot\",\"icon-only\",\"ios\",\"paw\",\"md\",\"paw\",1,\"did-not-give\",3,\"ngClass\"],[2,\"padding\",\"10px\",\"margin-top\",\"20px\"],[1,\"article-body-lg\",2,\"padding-top\",\"10px\",\"margin-bottom\",\"10px\",\"text-transform\",\"uppercase\",\"font-family\",\"'Noto Sans Avestan', sans-serif\",\"font-size\",\"20px\"],[2,\"color\",\"gray\"],[1,\"article-body-lg\"],[2,\"background-color\",\"black\"],[1,\"posts-centered-container\",2,\"background-color\",\"black\",\"color\",\"white\"],[1,\"card-subtitle\"],[\"name\",\"logo-ionic\"],[\"name\",\"heart\"],[\"name\",\"logo-firebase\"],[\"href\",\"https://www.messenger.com/t/alexandru.darie.1\",2,\"color\",\"white\"],[1,\"contact-last-col\"],[\"style\",\"padding: 0vw; margin-left: auto; margin-right: auto;\",4,\"ngIf\"],[2,\"padding\",\"0vw\",\"margin-left\",\"auto\",\"margin-right\",\"auto\"],[\"pager\",\"true\",3,\"options\"],[2,\"margin\",\"auto\",3,\"src\"],[4,\"ngIf\"],[\"style\",\"font-family: 'Noto Sans Avestan', sans-serif; margin-bottom: 10px; font-size: 17px; line-height: 1.35;\",3,\"innerHtml\",4,\"ngFor\",\"ngForOf\"],[2,\"font-family\",\"'Noto Sans Avestan', sans-serif\",\"margin-bottom\",\"10px\",\"font-size\",\"17px\",\"line-height\",\"1.35\",3,\"innerHtml\"],[\"lines\",\"none\",1,\"news-min-width\",3,\"routerLink\"],[3,\"src\"],[1,\"card-title\"],[1,\"card-content\"]],template:function(rf,ctx){1&rf&&(core.Ob(0,\"ion-header\",0),core.Ob(1,\"ion-toolbar\",1),core.Ob(2,\"ion-text\"),core.Ob(3,\"button\",2),core.Ob(4,\"h1\",3),core.nc(5,\"Alexandru Darie\"),core.Nb(),core.Nb(),core.Nb(),core.Ob(6,\"ion-buttons\",4),core.Ob(7,\"ion-button\",5),core.Mb(8,\"ion-icon\",6),core.Nb(),core.Ob(9,\"ion-button\",7),core.Mb(10,\"ion-icon\",8),core.Nb(),core.Nb(),core.Nb(),core.Nb(),core.Ob(11,\"ion-content\"),core.Ob(12,\"ion-row\"),core.Ob(13,\"ion-col\",9),core.Mb(14,\"div\",10),core.Ob(15,\"div\",11),core.Ob(16,\"ion-row\",12),core.Ob(17,\"ion-col\",13),core.mc(18,ArticlePage_div_18_Template,2,1,\"div\",14),core.Nb(),core.Ob(19,\"ion-col\",15),core.Ob(20,\"div\"),core.Ob(21,\"h1\",16),core.nc(22),core.Nb(),core.Ob(23,\"ion-row\",17),core.Ob(24,\"p\",18),core.nc(25),core.Nb(),core.Nb(),core.Nb(),core.mc(26,ArticlePage_div_26_Template,2,1,\"div\",14),core.Nb(),core.Nb(),core.Nb(),core.Ob(27,\"div\",11),core.Ob(28,\"ion-toolbar\",19),core.Ob(29,\"ion-buttons\",20),core.Ob(30,\"div\"),core.nc(31),core.Nb(),core.Ob(32,\"ion-button\",21),core.Wb(\"click\",(function(){return ctx.react(\"beer\")})),core.Mb(33,\"ion-icon\",22),core.Nb(),core.Ob(34,\"div\"),core.nc(35),core.Nb(),core.Ob(36,\"ion-button\",21),core.Wb(\"click\",(function(){return ctx.react(\"paws\")})),core.Mb(37,\"ion-icon\",23),core.Nb(),core.Nb(),core.Nb(),core.Nb(),core.Ob(38,\"div\",24),core.Ob(39,\"p\",25),core.Ob(40,\"span\",26),core.nc(41,\"Recent\"),core.Nb(),core.nc(42,\" posts\"),core.Nb(),core.Ob(43,\"ion-row\",27),core.mc(44,ArticlePage_ion_col_44_Template,10,7,\"ion-col\",14),core.Nb(),core.Nb(),core.Nb(),core.Nb(),core.Ob(45,\"ion-footer\",28),core.Ob(46,\"ion-grid\"),core.Ob(47,\"ion-row\",29),core.Ob(48,\"ion-col\"),core.Ob(49,\"p\",30),core.nc(50,\"Alexandru Darie\"),core.Nb(),core.Nb(),core.Ob(51,\"ion-col\",30),core.Ob(52,\"p\"),core.nc(53,\"Coded with \"),core.Mb(54,\"ion-icon\",31),core.nc(55,\", \"),core.Mb(56,\"ion-icon\",32),core.nc(57,\", namecheap, and \"),core.Mb(58,\"ion-icon\",33),core.nc(59,\".\"),core.Mb(60,\"br\"),core.Mb(61,\"br\"),core.Nb(),core.Ob(62,\"p\"),core.nc(63,\"The fastest (and most reliable) way to reach me is on Messenger: \"),core.Nb(),core.Ob(64,\"p\"),core.Ob(65,\"a\",34),core.nc(66,\"m.me/alexandru.darie.1\"),core.Nb(),core.Nb(),core.Nb(),core.Mb(67,\"ion-col\",35),core.Nb(),core.Nb(),core.Nb(),core.Nb()),2&rf&&(core.bc(\"translucent\",!0),core.Ab(14),core.lc(\"background-image\",ctx.article.poster,core.Eb),core.Ab(4),core.bc(\"ngForOf\",ctx.objectValues(ctx.article.content.rules)),core.Ab(4),core.pc(\" \",ctx.article.title,\" \"),core.Ab(3),core.pc(\"\",ctx.article.readTime,\" minute read\"),core.Ab(1),core.bc(\"ngForOf\",ctx.objectValues(ctx.article.content.rules)),core.Ab(5),core.oc(ctx.article.reactions.beer),core.Ab(1),core.bc(\"disabled\",ctx.disableReactions),core.Ab(1),core.bc(\"ngClass\",core.ec(14,_c1,ctx.gaveBeer)),core.Ab(2),core.oc(ctx.article.reactions.paws),core.Ab(1),core.bc(\"disabled\",ctx.disableReactions),core.Ab(1),core.bc(\"ngClass\",core.ec(16,_c1,ctx.gavePaws)),core.Ab(7),core.bc(\"ngForOf\",ctx.articles.popular.slice(0,3)))},directives:[ionic_angular.l,ionic_angular.u,ionic_angular.t,ionic_angular.A,router.g,ionic_angular.c,ionic_angular.b,ionic_angular.m,ionic_angular.i,ionic_angular.q,ionic_angular.h,common.i,common.h,ionic_angular.j,ionic_angular.k,common.j,ionic_angular.s,ionic_angular.r,ionic_angular.n,ionic_angular.f,ionic_angular.g,ionic_angular.e],styles:[\".article-body[_ngcontent-%COMP%], .article-body-lg[_ngcontent-%COMP%]{margin:0 20vw}.author[_ngcontent-%COMP%]{font-size:13px;color:grey;font-family:Noto Sans Avestan,sans-serif}.media[_ngcontent-%COMP%]{min-width:450px;margin-bottom:auto;margin-right:20px}.slider-container[_ngcontent-%COMP%]{margin:20px 1vw 30px;background-color:#f5f5f5;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top-left-radius:5px;border-top-right-radius:5px}.textual[_ngcontent-%COMP%]{min-width:350px}.post-count[_ngcontent-%COMP%]{font-weight:700}.card-subtitle[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%], .post-count[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:530}.card-text-right[_ngcontent-%COMP%]{text-align:right}.card-content[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.parallax[_ngcontent-%COMP%]{background-image:url(https://via.placeholder.com/2000x1333);height:100vh;background-attachment:fixed;background-position:top;background-repeat:no-repeat;background-size:cover}ion-toolbar[_ngcontent-%COMP%]{padding-left:5vw;padding-right:5vw}.site-title[_ngcontent-%COMP%]{margin:7px 0 0 1vw;font-size:28px;font-family:Josefin Sans,sans-serif;color:#000}.just-site-title[_ngcontent-%COMP%]{font-family:Monofett,cursive;font-size:20px}.title[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.posts-centered-container[_ngcontent-%COMP%]{margin:30px 10vw;background-color:#fff}.news-min-width[_ngcontent-%COMP%]{min-width:190px}.border[_ngcontent-%COMP%]{border-left:5px solid;border-bottom-width:0;border-top-width:0;border-right-width:0;-o-border-image:linear-gradient(180deg,#020024,#090979,#00d4ff);border-image:linear-gradient(180deg,#020024,#090979,#00d4ff);border-image-slice:1;height:100%}.did-not-give[_ngcontent-%COMP%]{color:grey}.gave[_ngcontent-%COMP%]{color:#fcba03}.swiper-slide[_ngcontent-%COMP%]{--background:transparent}.section-title[_ngcontent-%COMP%]{font-size:22.5px;font-family:Noto Sans Avestan,sans-serif;font-weight:700;color:grey}.preview-card[_ngcontent-%COMP%]{z-index:3000;margin-top:-2vh}.preview-card.full-width[_ngcontent-%COMP%]{margin:-2vh 0 0}.large-font[_ngcontent-%COMP%]{font-size:30px}@media screen and (min-width:2000px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 20vw}}@media only screen and (max-device-width:1366px){.parallax[_ngcontent-%COMP%]{background-attachment:scroll}}@media screen and (max-width:1500px){.article-body[_ngcontent-%COMP%]{margin:0 15vw}.article-body-lg[_ngcontent-%COMP%]{margin:0 10vw}}@media screen and (max-width:1125px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 2vw}.article-body[_ngcontent-%COMP%]{margin:0 10vw}.news-min-width[_ngcontent-%COMP%]{min-width:250px}.article-body-lg[_ngcontent-%COMP%]{margin:0 3vw}}@media screen and (max-width:950px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 1vw}.contact-last-col[_ngcontent-%COMP%]{max-width:5vw}}@media screen and (max-width:636px){.media[_ngcontent-%COMP%]{min-width:auto}.site-title[_ngcontent-%COMP%]{font-size:22px}}@media screen and (max-width:420px){.card-title[_ngcontent-%COMP%], .site-title[_ngcontent-%COMP%]{font-size:18px}}@media screen and (max-width:330px){.site-title[_ngcontent-%COMP%]{font-size:15px}}\"]}),ArticlePage})()}];let article_routing_module_ArticlePageRoutingModule=(()=>{class ArticlePageRoutingModule{}return ArticlePageRoutingModule.ɵmod=core.Jb({type:ArticlePageRoutingModule}),ArticlePageRoutingModule.ɵinj=core.Ib({factory:function(t){return new(t||ArticlePageRoutingModule)},imports:[[router.h.forChild(routes)],router.h]}),ArticlePageRoutingModule})(),article_module_ArticlePageModule=(()=>{class ArticlePageModule{}return ArticlePageModule.ɵmod=core.Jb({type:ArticlePageModule}),ArticlePageModule.ɵinj=core.Ib({factory:function(t){return new(t||ArticlePageModule)},imports:[[common.b,fesm2015_forms.a,ionic_angular.v,article_routing_module_ArticlePageRoutingModule,http.b]]}),ArticlePageModule})()}}]);","extractedComments":[]}