{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{rZHr:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"ArticlePageModule\",(function(){return article_module_ArticlePageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),index_cjs=__webpack_require__(\"Wcq6\"),core=__webpack_require__(\"fXoL\"),http=__webpack_require__(\"tk/3\"),platform_browser=__webpack_require__(\"jhN1\"),layout=__webpack_require__(\"0MNC\"),firestore=__webpack_require__(\"S/Aq\");let ip_service_service_IpServiceService=(()=>{class IpServiceService{constructor(http){this.http=http}getIPAddress(){return this.http.get(\"https://api.ipify.org?format=json\")}}return IpServiceService.ɵfac=function(t){return new(t||IpServiceService)(core.Rb(http.a))},IpServiceService.ɵprov=core.Hb({token:IpServiceService,factory:IpServiceService.ɵfac,providedIn:\"root\"}),IpServiceService})();function ArticlePage_div_25_div_1_div_1_Template(rf,ctx){if(1&rf&&core.Mb(0,\"div\",38),2&rf){const index_r6=ctx.$implicit,ctx_r5=core.Xb(3);core.bc(\"innerHtml\",ctx_r5.article.content.paragraphs[index_r6],core.fc)}}function ArticlePage_div_25_div_1_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"div\"),core.jc(1,ArticlePage_div_25_div_1_div_1_Template,1,1,\"div\",37),core.Nb()),2&rf){const rule_r3=core.Xb().$implicit;core.Ab(1),core.ac(\"ngForOf\",rule_r3.indexes)}}function ArticlePage_div_25_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"div\"),core.jc(1,ArticlePage_div_25_div_1_Template,2,1,\"div\",36),core.Nb()),2&rf){const rule_r3=ctx.$implicit;core.Ab(1),core.ac(\"ngIf\",\"paragraph\"===rule_r3.content)}}function ArticlePage_div_27_div_1_ion_slide_2_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"ion-slide\"),core.Mb(1,\"img\",40),core.Nb()),2&rf){const index_r11=ctx.$implicit,ctx_r10=core.Xb(3);core.Ab(1),core.bc(\"src\",ctx_r10.article.media.picture[index_r11],core.gc)}}function ArticlePage_div_27_div_1_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"div\"),core.Ob(1,\"ion-slides\",39),core.jc(2,ArticlePage_div_27_div_1_ion_slide_2_Template,2,1,\"ion-slide\",19),core.Nb(),core.Nb()),2&rf){const rule_r8=core.Xb().$implicit,ctx_r9=core.Xb();core.Ab(1),core.ac(\"options\",ctx_r9.slideOpts),core.Ab(1),core.ac(\"ngForOf\",rule_r8.indexes)}}function ArticlePage_div_27_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"div\"),core.jc(1,ArticlePage_div_27_div_1_Template,3,2,\"div\",36),core.Nb()),2&rf){const rule_r8=ctx.$implicit;core.Ab(1),core.ac(\"ngIf\",\"slider\"===rule_r8.content)}}const _c0=function(a1,a2){return[\"/article\",a1,a2]};function ArticlePage_ion_col_35_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"ion-col\",41),core.Ob(1,\"ion-item\",42),core.Ob(2,\"ion-col\",43),core.Mb(3,\"img\",44),core.Ob(4,\"ion-card-header\"),core.Ob(5,\"ion-card-title\",45),core.kc(6),core.Nb(),core.Nb(),core.Ob(7,\"ion-card-content\",46),core.Ob(8,\"div\"),core.kc(9),core.Nb(),core.Nb(),core.Nb(),core.Nb(),core.Nb()),2&rf){const article_r13=ctx.$implicit;core.Ab(1),core.ac(\"routerLink\",core.dc(4,_c0,article_r13.category,article_r13.id)),core.Ab(2),core.bc(\"src\",article_r13.media.square,core.gc),core.Ab(3),core.lc(article_r13.title),core.Ab(3),core.mc(\" \",article_r13.content.header.substring(0,300),\"..\")}}const routes=[{path:\"\",component:(()=>{class ArticlePage{constructor(http,modalController,activatedRoute,sanitizer,breakpointObserver,router,firestore,ip){this.http=http,this.modalController=modalController,this.activatedRoute=activatedRoute,this.sanitizer=sanitizer,this.breakpointObserver=breakpointObserver,this.router=router,this.firestore=firestore,this.ip=ip,this.slideOptions={1:{initialSlide:0,speed:600,loop:!0},2:{initialSlide:0,speed:400,slidesPerView:4.5},3:{initialSlide:0,speed:400,slidesPerView:2.5},4:{initialSlide:0,speed:400,slidesPerView:1.8}},this.article={id:0,title:\"\",author:\"\",date:\"\",peopleInvolved:[],photosAuthor:\"\",readTime:0,poster:\"\",image:\"\",category:\"\",content:{rules:{},header:\"\",paragraphs:[]},media:{picture:[],video:[],grid:[]},reactions:{energy:0,rid:\"\"}},this.articles={popular:[]},this.slideOpts={initialSlide:0,speed:400,autoHeight:!0},this.collectionName=\"articles\",this.gaveEnergy=!1,this.postFeedbackProgress=0,this.maxAmountOfEnergy=10,this.wideArticle=!0,this.narrowArticle=!1,this.logoImage=\"https://firebasestorage.googleapis.com/v0/b/alexdarie-2251.appspot.com/o/utils%2Flogo.png?alt=media&token=408fdde2-51fc-4761-b285-84d7fb711dc3\",this.howMany=3,this.activatedRoute.params.subscribe(params=>{this.id=params.id,this.category=params.type}),this.disableReactions=!1}ngOnInit(){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){this.router.onSameUrlNavigation=\"reload\",(yield this.firestore.collection(this.collectionName).ref.orderBy(\"date\",\"desc\").get()).forEach(doc=>{this.processSnapshopDoc(doc)}),yield this.getIP();var reactRef=this.firestore.collection(\"reactions\").doc(this.article.reactions.rid);const reactions=(yield reactRef.ref.get()).data();reactions.hasOwnProperty(\"views\")&&reactions.views.includes(this.ipAddress)||reactRef.update({views:index_cjs.firestore.FieldValue.arrayUnion(this.ipAddress)}),reactions.energy.includes(this.ipAddress)&&(this.gaveEnergy=!0),this.setViewBreakpoints()}))}setViewBreakpoints(){this.breakpointObserver.observe([\"(min-width: 1199px)\"]).subscribe(result=>{result.matches?(this.wideArticle=!0,this.narrowArticle=!1):(this.narrowArticle=!0,this.wideArticle=!1)})}getIP(){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){return new Promise((resolve,reject)=>{this.ip.getIPAddress().subscribe(res=>{this.ipAddress=res.ip,console.log(this.ipAddress),resolve(!0)})})}))}processSnapshopDoc(doc){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){const data=doc.data();if(data.id==this.id&&data.category===this.category){this.article=data,this.articleHash=doc.id;var reactRef=this.firestore.collection(\"reactions\").doc(this.article.reactions.rid);const reactions=(yield reactRef.ref.get()).data();this.article.reactions.energy=reactions.energy.length,this.postFeedbackProgress=reactions.energy.length/this.maxAmountOfEnergy}else this.buildMostPopularArticles(data)}))}updateArticle(doc){const data=doc.data();data.id==this.id&&data.category===this.category&&(this.article=data,this.articleHash=doc.id)}buildMostPopularArticles(data){const pop=this.articles.popular,n=pop.length;let position=0;for(let i=0;i<n-1;i++)data.views<pop[i].views&&(position+=1);for(let i=n;i>position;i--)pop[i]=pop[i-1];pop[position]=data}ngOnDestroy(){this.router.onSameUrlNavigation=\"ignore\"}delay(ms){return new Promise(resolve=>setTimeout(resolve,ms))}react(type){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){this.disableReactions=!0,this.articleHash.length<1&&(yield this.getIP());var reactRef=this.firestore.collection(\"reactions\").doc(this.article.reactions.rid);const reactions=(yield reactRef.ref.get()).data();this.firestore.collection(\"articles\").doc(this.articleHash),\"energy\"===type&&(reactions.energy.includes(this.ipAddress)?reactRef.update({energy:index_cjs.firestore.FieldValue.arrayRemove(this.ipAddress)}).then(()=>{this.article.reactions.energy-=1,this.gaveEnergy=!1,this.disableReactions=!1,this.postFeedbackProgress=this.article.reactions.energy/this.maxAmountOfEnergy}):reactRef.update({energy:index_cjs.firestore.FieldValue.arrayUnion(this.ipAddress)}).then(()=>{this.article.reactions.energy+=1,this.gaveEnergy=!0,this.disableReactions=!1,this.postFeedbackProgress=this.article.reactions.energy/this.maxAmountOfEnergy}))}))}objectValues(obj){return Object.values(obj)}presentModal(){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){}))}}return ArticlePage.ɵfac=function(t){return new(t||ArticlePage)(core.Lb(http.a),core.Lb(ionic_angular.x),core.Lb(router.a),core.Lb(platform_browser.b),core.Lb(layout.a),core.Lb(router.f),core.Lb(firestore.a),core.Lb(ip_service_service_IpServiceService))},ArticlePage.ɵcmp=core.Fb({type:ArticlePage,selectors:[[\"app-article\"]],decls:58,vars:9,consts:[[3,\"translucent\"],[1,\"toolbar\"],[\"routerLink\",\"/home\",2,\"background-color\",\"transparent\",\"border\",\"none\",\"outline\",\"none\"],[1,\"site-title\",3,\"src\"],[\"slot\",\"end\",1,\"toolbar-buttons\"],[\"href\",\"https://www.instagram.com/_alexdarie/\",\"target\",\"_blank\"],[\"slot\",\"icon-only\",\"ios\",\"logo-instagram\",\"md\",\"logo-instagram\",1,\"white-icons\"],[\"href\",\"https://github.com/alexdarie\",\"target\",\"_blank\"],[\"slot\",\"icon-only\",\"name\",\"logo-github\",1,\"white-icons\"],[\"overflow-scroll\",\"true\"],[2,\"padding\",\"0\"],[1,\"parallax\"],[1,\"article-body\"],[1,\"article-media\"],[2,\"margin\",\"1.1vh\"],[\"size-xl\",\"5.5\",\"push-xl\",\"0.5\",\"size-lg\",\"5.5\",\"push-lg\",\"0.5\",\"size-md\",\"5.5\",\"push-md\",\"0.5\",\"size-sm\",\"10\",\"push-sm\",\"1\",\"size-xs\",\"11\",\"push-xs\",\"0.5\",1,\"article-story\"],[2,\"margin-bottom\",\"15px\",\"font-family\",\"coolvetica, sans-serif\"],[2,\"margin\",\"-25px 0 0 0\"],[1,\"author\",2,\"font-family\",\"coolvetica, sans-serif\"],[4,\"ngFor\",\"ngForOf\"],[\"size-xl\",\"5.5\",\"push-xl\",\"0.5\",\"size-lg\",\"5.5\",\"push-lg\",\"0.5\",\"size-md\",\"5.5\",\"push-md\",\"0.5\",\"size-sm\",\"10\",\"push-sm\",\"1\",\"size-xs\",\"11\",\"push-xs\",\"0.5\",1,\"article-images\"],[1,\"feedback\"],[1,\"article-recent-posts\"],[1,\"recent-posts\"],[2,\"color\",\"gray\"],[1,\"recent-posts-container\"],[\"class\",\"column-padding\",\"size-xl\",\"3\",\"push-xl\",\"1.5\",\"size-lg\",\"3.5\",\"push-lg\",\"0.5\",\"size-md\",\"4\",\"push-md\",\"0\",\"size-sm\",\"4\",\"push-sm\",\"0\",\"size-xs\",\"10\",\"push-xs\",\"1\",4,\"ngFor\",\"ngForOf\"],[2,\"background-color\",\"black\"],[1,\"posts-centered-container\",2,\"background-color\",\"black\",\"color\",\"white\"],[2,\"margin-left\",\"5vw\"],[1,\"card-subtitle-light-white\",\"footer-font\"],[\"name\",\"logo-ionic\"],[\"name\",\"heart\"],[\"name\",\"logo-firebase\"],[\"href\",\"https://www.instagram.com/_alexdarie/\",2,\"color\",\"white\"],[1,\"contact-last-col\"],[4,\"ngIf\"],[\"class\",\"nimbus-font\",3,\"innerHtml\",4,\"ngFor\",\"ngForOf\"],[1,\"nimbus-font\",3,\"innerHtml\"],[\"pager\",\"true\",3,\"options\"],[2,\"margin\",\"auto\",3,\"src\"],[\"size-xl\",\"3\",\"push-xl\",\"1.5\",\"size-lg\",\"3.5\",\"push-lg\",\"0.5\",\"size-md\",\"4\",\"push-md\",\"0\",\"size-sm\",\"4\",\"push-sm\",\"0\",\"size-xs\",\"10\",\"push-xs\",\"1\",1,\"column-padding\"],[\"lines\",\"none\",1,\"rounded-corners\",3,\"routerLink\"],[1,\"inner-column-padding\"],[1,\"recent-posts-images\",3,\"src\"],[1,\"card-title\"],[1,\"card-content\"]],template:function(rf,ctx){1&rf&&(core.Ob(0,\"ion-header\",0),core.Ob(1,\"ion-toolbar\",1),core.Ob(2,\"ion-text\"),core.Ob(3,\"button\",2),core.Mb(4,\"img\",3),core.Nb(),core.Nb(),core.Ob(5,\"ion-buttons\",4),core.Ob(6,\"ion-button\",5),core.Mb(7,\"ion-icon\",6),core.Nb(),core.Ob(8,\"ion-button\",7),core.Mb(9,\"ion-icon\",8),core.Nb(),core.Nb(),core.Nb(),core.Nb(),core.Ob(10,\"ion-content\",9),core.Ob(11,\"ion-row\"),core.Ob(12,\"ion-col\",10),core.Mb(13,\"div\",11),core.Ob(14,\"ion-grid\",12),core.Ob(15,\"ion-row\",13),core.Mb(16,\"p\",14),core.Nb(),core.Ob(17,\"ion-row\",13),core.Ob(18,\"ion-col\",15),core.Ob(19,\"div\"),core.Ob(20,\"h1\",16),core.kc(21),core.Nb(),core.Ob(22,\"ion-row\",17),core.Ob(23,\"p\",18),core.kc(24),core.Nb(),core.Nb(),core.Nb(),core.jc(25,ArticlePage_div_25_Template,2,1,\"div\",19),core.Nb(),core.Ob(26,\"ion-col\",20),core.jc(27,ArticlePage_div_27_Template,2,1,\"div\",19),core.Nb(),core.Nb(),core.Mb(28,\"ion-row\",21),core.Ob(29,\"ion-row\",22),core.Ob(30,\"p\",23),core.Ob(31,\"span\",24),core.kc(32,\"Recent\"),core.Nb(),core.kc(33,\" posts\"),core.Nb(),core.Nb(),core.Ob(34,\"ion-row\",25),core.jc(35,ArticlePage_ion_col_35_Template,10,7,\"ion-col\",26),core.Nb(),core.Nb(),core.Nb(),core.Nb(),core.Ob(36,\"ion-footer\",27),core.Ob(37,\"ion-grid\"),core.Ob(38,\"ion-row\",28),core.Ob(39,\"ion-col\",29),core.Ob(40,\"p\",30),core.kc(41,\"Alex Darie\"),core.Nb(),core.Nb(),core.Ob(42,\"ion-col\",30),core.Ob(43,\"p\"),core.kc(44,\"I've been coding this for a while now, using \"),core.Mb(45,\"ion-icon\",31),core.kc(46,\", \"),core.Mb(47,\"ion-icon\",32),core.kc(48,\", namecheap, and \"),core.Mb(49,\"ion-icon\",33),core.kc(50,\".\"),core.Mb(51,\"br\"),core.Nb(),core.Ob(52,\"p\"),core.kc(53,\"The fastest (and most reliable) way to reach me is on Instagram: \"),core.Nb(),core.Ob(54,\"p\"),core.Ob(55,\"a\",34),core.kc(56,\"instagram.com/alexdarie\"),core.Nb(),core.Nb(),core.Nb(),core.Mb(57,\"ion-col\",35),core.Nb(),core.Nb(),core.Nb(),core.Nb()),2&rf&&(core.ac(\"translucent\",!0),core.Ab(4),core.ac(\"src\",ctx.logoImage,core.gc),core.Ab(9),core.ic(\"background-image\",ctx.article.poster,core.Eb),core.Ab(8),core.mc(\" \",ctx.article.title,\" \"),core.Ab(3),core.mc(\"\",ctx.article.readTime,\" minute read\"),core.Ab(1),core.ac(\"ngForOf\",ctx.objectValues(ctx.article.content.rules)),core.Ab(2),core.ac(\"ngForOf\",ctx.objectValues(ctx.article.content.rules)),core.Ab(8),core.ac(\"ngForOf\",ctx.articles.popular.slice(0,ctx.howMany)))},directives:[ionic_angular.l,ionic_angular.u,ionic_angular.t,ionic_angular.z,router.g,ionic_angular.c,ionic_angular.b,ionic_angular.m,ionic_angular.i,ionic_angular.q,ionic_angular.h,ionic_angular.k,common.h,ionic_angular.j,common.i,ionic_angular.s,ionic_angular.r,ionic_angular.n,ionic_angular.f,ionic_angular.g,ionic_angular.e],styles:[\"p[_ngcontent-%COMP%]{font-size:16px}.article-body[_ngcontent-%COMP%]{margin:0 20vw}.author[_ngcontent-%COMP%]{font-size:13px;color:grey;font-family:Noto Sans Avestan,sans-serif}.article-images[_ngcontent-%COMP%]{margin-right:auto}.article-media[_ngcontent-%COMP%]{margin:auto}.card-subtitle-light-white[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif;color:#c9c9c9}.card-title[_ngcontent-%COMP%]{font-size:20px;font-family:interstate,sans-serif;font-weight:530}.card-content[_ngcontent-%COMP%]{font-family:nimbus-sans,sans-serif;color:grey;line-height:14pt}.footer-font[_ngcontent-%COMP%]{font-family:coolvetica,sans-serif}.parallax[_ngcontent-%COMP%]{height:75vh;background-position:top;background-repeat:no-repeat;background-size:cover}ion-toolbar[_ngcontent-%COMP%]{padding-left:15vw;padding-right:15vw}.site-title[_ngcontent-%COMP%]{margin:2px 0 0 1vw;height:30px}.posts-centered-container[_ngcontent-%COMP%]{margin:30px 10vw;background-color:#fff}.did-not-give[_ngcontent-%COMP%]{color:grey}.gave[_ngcontent-%COMP%]{color:#fcba03}ion-progress-bar[_ngcontent-%COMP%]{margin-left:3px;height:10px;--progress-background:#fcba03;width:15vw;min-width:120px}.rounded-corners[_ngcontent-%COMP%], ion-progress-bar[_ngcontent-%COMP%]{border-radius:5px}.feedback[_ngcontent-%COMP%]{margin-left:1vw}.recent-posts[_ngcontent-%COMP%]{padding-top:10px;margin-bottom:10px;text-transform:uppercase;font-family:interstate,sans-serif;font-size:20px}.recent-posts-container[_ngcontent-%COMP%]{margin-bottom:2vh}.column-padding[_ngcontent-%COMP%]{padding:15px 10px}.inner-column-padding[_ngcontent-%COMP%]{padding:20px 15px}.article-recent-posts[_ngcontent-%COMP%]{margin:0 5vw}.article-story[_ngcontent-%COMP%]{padding:0 15px 0 0}.recent-posts-images[_ngcontent-%COMP%]{border-radius:5px}.nimbus-font[_ngcontent-%COMP%]{text-align:justify;text-justify:inter-word;line-height:15pt;font-family:nimbus-sans,sans-serif;font-weight:400;font-style:normal}@media screen and (min-width:2000px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 20vw}}@media only screen and (max-device-width:1366px){.parallax[_ngcontent-%COMP%]{background-attachment:scroll}}@media screen and (max-width:2000px){ion-toolbar[_ngcontent-%COMP%]{padding-left:7vw;padding-right:8vw}}@media screen and (max-width:1700px){.column-padding[_ngcontent-%COMP%]{padding:10px 5px}.inner-column-padding[_ngcontent-%COMP%]{padding:10px 0}}@media screen and (max-width:1500px){.article-body[_ngcontent-%COMP%], .article-body-lg[_ngcontent-%COMP%]{margin:0 10vw}}@media screen and (max-width:1157px){ion-toolbar[_ngcontent-%COMP%]{padding-left:0;padding-right:1vw}}@media screen and (max-width:1125px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 2vw}.article-body[_ngcontent-%COMP%], .article-body-lg[_ngcontent-%COMP%]{margin:0 3vw}}@media screen and (max-width:950px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px .5vw}.contact-last-col[_ngcontent-%COMP%]{max-width:5vw}}@media screen and (max-width:790px){.inner-feedback[_ngcontent-%COMP%]{margin-left:auto;margin-right:1vw}}@media screen and (max-width:680px){.article-body[_ngcontent-%COMP%]{margin:0 1vw}}@media screen and (max-width:636px){.media[_ngcontent-%COMP%]{min-width:auto}.site-title[_ngcontent-%COMP%]{height:28px}}@media screen and (max-width:450px){.textual[_ngcontent-%COMP%]{min-width:250px}}@media screen and (max-width:420px){.site-title[_ngcontent-%COMP%]{font-size:27px}.card-title[_ngcontent-%COMP%]{font-size:18px}}@media screen and (max-width:330px){.site-title[_ngcontent-%COMP%]{font-size:26px}}\"]}),ArticlePage})()}];let article_routing_module_ArticlePageRoutingModule=(()=>{class ArticlePageRoutingModule{}return ArticlePageRoutingModule.ɵmod=core.Jb({type:ArticlePageRoutingModule}),ArticlePageRoutingModule.ɵinj=core.Ib({factory:function(t){return new(t||ArticlePageRoutingModule)},imports:[[router.h.forChild(routes)],router.h]}),ArticlePageRoutingModule})(),article_module_ArticlePageModule=(()=>{class ArticlePageModule{}return ArticlePageModule.ɵmod=core.Jb({type:ArticlePageModule}),ArticlePageModule.ɵinj=core.Ib({factory:function(t){return new(t||ArticlePageModule)},imports:[[common.b,fesm2015_forms.a,ionic_angular.v,article_routing_module_ArticlePageRoutingModule,http.b]]}),ArticlePageModule})()}}]);","extractedComments":[]}