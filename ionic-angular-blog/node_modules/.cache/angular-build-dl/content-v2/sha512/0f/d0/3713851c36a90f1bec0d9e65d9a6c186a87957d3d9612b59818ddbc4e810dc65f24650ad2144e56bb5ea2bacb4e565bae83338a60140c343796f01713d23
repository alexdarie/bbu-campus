function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{rZHr:function(e,t,n){"use strict";n.r(t),n.d(t,"ArticlePageModule",(function(){return z}));var i,r,o=n("ofXK"),a=n("3Pt+"),c=n("TEn/"),s=n("tyNb"),l=n("mrSG"),d=n("Wcq6"),b=n("fXoL"),p=n("tk/3"),u=n("jhN1"),g=n("S/Aq"),f=((r=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"getIPAddress",value:function(){return this.http.get("https://api.ipify.org?format=json")}}]),e}()).\u0275fac=function(e){return new(e||r)(b.Sb(p.a))},r.\u0275prov=b.Hb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),h=((i=function(){function e(t){_classCallCheck(this,e),this.sanitizer=t}return _createClass(e,[{key:"transform",value:function(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}]),e}()).\u0275fac=function(e){return new(e||i)(b.Lb(u.b))},i.\u0275pipe=b.Kb({name:"safe",type:i,pure:!0}),i);function m(e,t){if(1&e&&(b.Ob(0,"p",39),b.pc(1,"People involed: "),b.Ob(2,"span",21),b.pc(3),b.Nb(),b.Nb()),2&e){var n=b.Yb();b.Ab(3),b.qc(n.article.peopleInvolved)}}function v(e,t){if(1&e&&b.Mb(0,"div",44),2&e){var n=t.$implicit,i=b.Yb(3);b.ec("innerHtml",i.article.content.paragraphs[n],b.jc)}}function w(e,t){if(1&e&&(b.Ob(0,"div"),b.oc(1,v,1,1,"div",43),b.Nb()),2&e){var n=b.Yb().$implicit;b.Ab(1),b.dc("ngForOf",n.indexes)}}function O(e,t){if(1&e&&(b.Ob(0,"p",48),b.pc(1,"Artwork by: "),b.Ob(2,"span",21),b.pc(3),b.Nb(),b.Nb()),2&e){var n=b.Yb(3);b.Ab(3),b.qc(n.article.photosAuthor)}}function x(e,t){if(1&e&&(b.Ob(0,"div",45),b.Mb(1,"img",46),b.oc(2,O,4,1,"p",47),b.Nb()),2&e){var n=b.Yb().$implicit,i=b.Yb();b.Ab(1),b.ec("src",i.article.media.picture[n.indexes[0]],b.lc),b.Ab(1),b.dc("ngIf",null!=i.article.photosAuthor&&0!==i.article.photosAuthor.length)}}function y(e,t){if(1&e&&(b.Ob(0,"div"),b.Mb(1,"iframe",49),b.Zb(2,"safe"),b.Nb()),2&e){var n=b.Yb().$implicit,i=b.Yb();b.Ab(1),b.dc("src",b.ac(2,1,i.article.media.video[n.indexes[0]]),b.kc)}}function N(e,t){if(1&e&&(b.Ob(0,"ion-slide"),b.Mb(1,"img",52),b.Nb()),2&e){var n=t.$implicit,i=b.Yb(3);b.Ab(1),b.ec("src",i.article.media.picture[n],b.lc)}}function _(e,t){if(1&e&&(b.Ob(0,"div",50),b.Ob(1,"ion-slides",51),b.oc(2,N,2,1,"ion-slide",26),b.Nb(),b.Nb()),2&e){var n=b.Yb().$implicit,i=b.Yb();b.Ab(1),b.dc("options",i.slideOpts),b.Ab(1),b.dc("ngForOf",n.indexes)}}function A(e,t){if(1&e&&(b.Ob(0,"div"),b.oc(1,w,2,1,"div",40),b.oc(2,x,3,2,"div",41),b.oc(3,y,3,3,"div",40),b.oc(4,_,3,2,"div",42),b.Nb()),2&e){var n=t.$implicit;b.Ab(1),b.dc("ngIf","paragraph"===n.content),b.Ab(1),b.dc("ngIf","image"===n.content),b.Ab(1),b.dc("ngIf","video"===n.content),b.Ab(1),b.dc("ngIf","slider"===n.content)}}var M=function(e,t){return["/article",e,t]};function P(e,t){if(1&e&&(b.Ob(0,"ion-col"),b.Ob(1,"ion-item",53),b.Ob(2,"ion-col"),b.Mb(3,"img",46),b.Ob(4,"ion-card-header"),b.Ob(5,"ion-card-title",54),b.pc(6),b.Nb(),b.Nb(),b.Ob(7,"ion-card-content",55),b.Ob(8,"div"),b.pc(9),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e){var n=t.$implicit;b.Ab(1),b.dc("routerLink",b.gc(4,M,n.category,n.id)),b.Ab(2),b.ec("src",n.media.landscape,b.lc),b.Ab(3),b.qc(n.title),b.Ab(3),b.rc(" ",n.content.header.substring(0,200),"")}}var k,C,I,R=[{path:"",component:(k=function(){function e(t,n,i,r,o,a){var c=this;_classCallCheck(this,e),this.http=t,this.activatedRoute=n,this.sanitizer=i,this.router=r,this.firestore=o,this.ip=a,this.article={id:0,title:"",author:"",date:"",peopleInvolved:[],photosAuthor:"",readTime:0,poster:"",image:"",category:"",content:{rules:{},header:"",paragraphs:[]},media:{picture:[],video:[]},reactions:{beer:0,paws:0,rid:""}},this.articles={popular:[],tipsAndTricks:[],concerts:[],cs:[]},this.slideOpts={initialSlide:0,speed:400,autoHeight:!0},this.collectionName="articles",this.gavePaws=!1,this.gaveBeer=!1,this.activatedRoute.params.subscribe((function(e){c.id=e.id,c.category=e.type})),this.disableReactions=!1}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(l.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.router.onSameUrlNavigation="reload",e.next=3,this.firestore.collection(this.collectionName).ref.orderBy("date","desc").get();case 3:return e.sent.forEach((function(e){i.processSnapshopDoc(e)})),e.next=6,this.getIP();case 6:return t=this.firestore.collection("reactions").doc(this.article.reactions.rid),e.next=9,t.ref.get();case 9:(n=e.sent.data()).hasOwnProperty("views")&&n.views.includes(this.ipAddress)||t.update({views:d.firestore.FieldValue.arrayUnion(this.ipAddress)}),n.beers.includes(this.ipAddress)&&(this.gaveBeer=!0),n.paws.includes(this.ipAddress)&&(this.gavePaws=!0);case 11:case"end":return e.stop()}}),e,this)})))}},{key:"getIP",value:function(){return Object(l.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.ip.getIPAddress().subscribe((function(n){t.ipAddress=n.ip,console.log(t.ipAddress),e(!0)}))})));case 1:case"end":return e.stop()}}),e)})))}},{key:"processSnapshopDoc",value:function(e){return Object(l.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e.data()).id!=this.id||n.category!==this.category){t.next=10;break}return this.article=n,this.articleHash=e.id,i=this.firestore.collection("reactions").doc(this.article.reactions.rid),t.next=6,i.ref.get();case 6:r=t.sent.data(),this.article.reactions.beer=r.beers.length,this.article.reactions.paws=r.paws.length,t.next=11;break;case 10:this.buildMostPopularArticles(n);case 11:case"end":return t.stop()}}),t,this)})))}},{key:"updateArticle",value:function(e){var t=e.data();t.id==this.id&&t.category===this.category&&(this.article=t,this.articleHash=e.id)}},{key:"buildMostPopularArticles",value:function(e){for(var t=this.articles.popular,n=t.length,i=0,r=0;r<n-1;r++)e.views<t[r].views&&(i+=1);for(var o=n;o>i;o--)t[o]=t[o-1];t[i]=e}},{key:"ngOnDestroy",value:function(){this.router.onSameUrlNavigation="ignore"}},{key:"delay",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"react",value:function(e){return Object(l.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.disableReactions=!0,t.t0=this.articleHash.length<1,!t.t0){t.next=5;break}return t.next=5,this.getIP();case 5:return n=this.firestore.collection("reactions").doc(this.article.reactions.rid),t.next=8,n.ref.get();case 8:i=t.sent.data(),this.firestore.collection("articles").doc(this.articleHash),"paws"===e&&(i.paws.includes(this.ipAddress)?n.update({paws:d.firestore.FieldValue.arrayRemove(this.ipAddress)}).then((function(){r.article.reactions.paws-=1,r.gavePaws=!1,r.disableReactions=!1})):n.update({paws:d.firestore.FieldValue.arrayUnion(this.ipAddress)}).then((function(){r.article.reactions.paws+=1,r.gavePaws=!0,r.disableReactions=!1}))),"beer"===e&&(i.beers.includes(this.ipAddress)?n.update({beers:d.firestore.FieldValue.arrayRemove(this.ipAddress)}).then((function(){r.article.reactions.beer-=1,r.gaveBeer=!1,r.disableReactions=!1})):n.update({beers:d.firestore.FieldValue.arrayUnion(this.ipAddress)}).then((function(){r.article.reactions.beer+=1,r.gaveBeer=!0,r.disableReactions=!1})));case 10:case"end":return t.stop()}}),t,this)})))}},{key:"objectValues",value:function(e){return Object.values(e)}}]),e}(),k.\u0275fac=function(e){return new(e||k)(b.Lb(p.a),b.Lb(s.a),b.Lb(u.b),b.Lb(s.f),b.Lb(g.a),b.Lb(f))},k.\u0275cmp=b.Fb({type:k,selectors:[["app-article"]],decls:65,vars:10,consts:[[3,"translucent"],[1,"toolbar"],["routerLink","/home",2,"background-color","transparent","border","none","outline","none"],[1,"site-title","unselectable"],["slot","end",1,"toolbar-buttons"],["href","https://www.linkedin.com/in/adascalitei-alexandru-b48817a4/","target","_blank"],["slot","icon-only","name","logo-linkedin",1,"white-icons"],["href","https://github.com/alexdarie","target","_blank"],["slot","icon-only","name","logo-github",1,"white-icons"],["href","https://www.instagram.com/_alexdarie/","target","_blank"],["slot","icon-only","ios","logo-instagram","md","logo-instagram",1,"white-icons"],["href","https://www.messenger.com/t/alexandru.darie.1","target","_blank"],["slot","icon-only","ios","logo-facebook","md","logo-facebook",1,"white-icons"],[2,"padding","0"],[1,"parallax"],[1,"article-body"],[1,"preview-card","full-width","full-width"],[2,"padding","10px"],[2,"margin-bottom","15px","font-family","'Open sans', cursive"],[2,"margin","-10px 0 0 0"],[1,"author"],[2,"color","black"],[2,"text-transform","uppercase","font-size","13px","margin-left","auto","color","gray"],[2,"margin","-20px 0 0 0"],["class","author","style","max-width: 50%;",4,"ngIf"],[1,"author",2,"margin-left","auto"],[4,"ngFor","ngForOf"],[2,"padding","10px","margin-top","20px"],[1,"article-body-lg",2,"padding-top","10px","margin-bottom","10px","text-transform","uppercase","font-family","'Noto Sans Avestan', sans-serif","font-size","20px"],[2,"color","gray"],[1,"article-body-lg"],[2,"background-color","black"],[1,"posts-centered-container",2,"background-color","black","color","white"],[1,"card-subtitle"],["name","logo-ionic"],["name","heart"],["name","logo-firebase"],["href","https://www.messenger.com/t/alexandru.darie.1",2,"color","white"],[1,"contact-last-col"],[1,"author",2,"max-width","50%"],[4,"ngIf"],["style","padding: 0; margin: 20px 0 20px 0;",4,"ngIf"],["style","padding: 0vw; margin: 20px 0 20px 0;",4,"ngIf"],["style","font-family: 'Noto Sans Avestan', sans-serif; margin-bottom: 10px; font-size: 18px; line-height: 1.35;",3,"innerHtml",4,"ngFor","ngForOf"],[2,"font-family","'Noto Sans Avestan', sans-serif","margin-bottom","10px","font-size","18px","line-height","1.35",3,"innerHtml"],[2,"padding","0","margin","20px 0 20px 0"],[3,"src"],["class","author","style","text-align: center;",4,"ngIf"],[1,"author",2,"text-align","center"],["frameborder","0","allowfullscreen","",2,"width","100%","min-height","370px",3,"src"],[2,"padding","0vw","margin","20px 0 20px 0"],["pager","true",3,"options"],[2,"margin","auto",3,"src"],["lines","none",1,"news-min-width",3,"routerLink"],[1,"card-title"],[1,"card-content","card-text-right"]],template:function(e,t){1&e&&(b.Ob(0,"ion-header",0),b.Ob(1,"ion-toolbar",1),b.Ob(2,"ion-text"),b.Ob(3,"button",2),b.Ob(4,"h1",3),b.pc(5,"Alexandru Darie"),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"ion-buttons",4),b.Ob(7,"ion-button",5),b.Mb(8,"ion-icon",6),b.Nb(),b.Ob(9,"ion-button",7),b.Mb(10,"ion-icon",8),b.Nb(),b.Ob(11,"ion-button",9),b.Mb(12,"ion-icon",10),b.Nb(),b.Ob(13,"ion-button",11),b.Mb(14,"ion-icon",12),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(15,"ion-content"),b.Ob(16,"ion-row"),b.Ob(17,"ion-col",13),b.Mb(18,"div",14),b.Ob(19,"div",15),b.Ob(20,"ion-card",16),b.Ob(21,"div",17),b.Ob(22,"h1",18),b.pc(23),b.Nb(),b.Ob(24,"ion-row",19),b.Ob(25,"p",20),b.Ob(26,"span",21),b.pc(27),b.Nb(),b.Nb(),b.Ob(28,"p",22),b.pc(29),b.Nb(),b.Nb(),b.Ob(30,"ion-row",23),b.oc(31,m,4,1,"p",24),b.Ob(32,"p",25),b.pc(33),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.oc(34,A,5,4,"div",26),b.Nb(),b.Ob(35,"div",27),b.Ob(36,"p",28),b.Ob(37,"span",29),b.pc(38,"Recent"),b.Nb(),b.pc(39," posts"),b.Nb(),b.Ob(40,"ion-row",30),b.oc(41,P,10,7,"ion-col",26),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(42,"ion-footer",31),b.Ob(43,"ion-grid"),b.Ob(44,"ion-row",32),b.Ob(45,"ion-col"),b.Ob(46,"p",33),b.pc(47,"Alexandru Darie"),b.Nb(),b.Nb(),b.Ob(48,"ion-col",33),b.Ob(49,"p"),b.pc(50,"Coded with "),b.Mb(51,"ion-icon",34),b.pc(52,", "),b.Mb(53,"ion-icon",35),b.pc(54,", namecheap, and "),b.Mb(55,"ion-icon",36),b.pc(56,"."),b.Mb(57,"br"),b.Mb(58,"br"),b.Nb(),b.Ob(59,"p"),b.pc(60,"The fastest (and most reliable) way to reach me is on Messenger: "),b.Nb(),b.Ob(61,"p"),b.Ob(62,"a",37),b.pc(63,"m.me/alexandru.darie.1"),b.Nb(),b.Nb(),b.Nb(),b.Mb(64,"ion-col",38),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e&&(b.dc("translucent",!0),b.Ab(18),b.nc("background-image",t.article.poster,b.Eb),b.Ab(5),b.rc(" ",t.article.title," "),b.Ab(4),b.qc(t.article.date),b.Ab(2),b.qc(t.article.category),b.Ab(2),b.dc("ngIf",null!=t.article.peopleInvolved&&0!==t.article.peopleInvolved.length),b.Ab(2),b.rc("",t.article.readTime," minute read"),b.Ab(1),b.dc("ngForOf",t.objectValues(t.article.content.rules)),b.Ab(7),b.dc("ngForOf",t.articles.popular.slice(0,3)))},directives:[c.m,c.v,c.u,c.B,s.g,c.d,c.c,c.n,c.j,c.r,c.i,c.e,o.i,o.h,c.k,c.l,c.t,c.s,c.o,c.g,c.h,c.f],pipes:[h],styles:[".article-body[_ngcontent-%COMP%]{margin:0 30vw}.article-body-lg[_ngcontent-%COMP%]{margin:0 20vw}.author[_ngcontent-%COMP%]{font-size:13px;color:grey}.author[_ngcontent-%COMP%], .post-count[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.post-count[_ngcontent-%COMP%]{font-weight:700}.card-subtitle[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:530}.card-text-right[_ngcontent-%COMP%]{text-align:right}.card-content[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.parallax[_ngcontent-%COMP%]{background-image:url(https://via.placeholder.com/2000x1333);height:100vh;background-attachment:fixed;background-position:top;background-repeat:no-repeat;background-size:cover}ion-toolbar[_ngcontent-%COMP%]{padding-left:5vw;padding-right:5vw}.site-title[_ngcontent-%COMP%]{margin:7px 0 0 1vw;font-size:29px;font-family:Josefin Sans,sans-serif;color:#000}.just-site-title[_ngcontent-%COMP%]{font-family:Monofett,cursive;font-size:20px}.title[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.posts-centered-container[_ngcontent-%COMP%]{margin:30px 10vw;background-color:#fff}.news-min-width[_ngcontent-%COMP%]{min-width:190px}.border[_ngcontent-%COMP%]{border-left:5px solid;border-bottom-width:0;border-top-width:0;border-right-width:0;-o-border-image:linear-gradient(180deg,#020024,#090979,#00d4ff);border-image:linear-gradient(180deg,#020024,#090979,#00d4ff);border-image-slice:1;height:100%}.did-not-give[_ngcontent-%COMP%]{color:grey}.gave[_ngcontent-%COMP%]{color:#fcba03}.swiper-slide[_ngcontent-%COMP%]{--background:transparent}.section-title[_ngcontent-%COMP%]{font-size:22.5px;font-family:Noto Sans Avestan,sans-serif;font-weight:700;color:grey}.preview-card[_ngcontent-%COMP%]{z-index:3000;margin-top:-2vh}.preview-card.full-width[_ngcontent-%COMP%]{margin:-2vh 0 0}.large-font[_ngcontent-%COMP%]{font-size:30px}@media screen and (min-width:2000px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 20vw}}@media only screen and (max-device-width:1366px){.parallax[_ngcontent-%COMP%]{background-attachment:scroll}}@media screen and (max-width:1500px){.article-body[_ngcontent-%COMP%]{margin:0 20vw}.article-body-lg[_ngcontent-%COMP%]{margin:0 10vw}}@media screen and (max-width:1125px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 2vw}.article-body[_ngcontent-%COMP%]{margin:0 10vw}.news-min-width[_ngcontent-%COMP%]{min-width:250px}.article-body-lg[_ngcontent-%COMP%]{margin:0 3vw}}@media screen and (max-width:950px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 1vw}.contact-last-col[_ngcontent-%COMP%]{max-width:5vw}}@media screen and (max-width:420px){.site-title[_ngcontent-%COMP%]{margin:5px 0 0 .5vw}.card-title[_ngcontent-%COMP%], .site-title[_ngcontent-%COMP%]{font-size:18px}}"]}),k)}],S=((I=function e(){_classCallCheck(this,e)}).\u0275mod=b.Jb({type:I}),I.\u0275inj=b.Ib({factory:function(e){return new(e||I)},imports:[[s.h.forChild(R)],s.h]}),I),z=((C=function e(){_classCallCheck(this,e)}).\u0275mod=b.Jb({type:C}),C.\u0275inj=b.Ib({factory:function(e){return new(e||C)},imports:[[o.b,a.a,c.w,S,p.b]]}),C)}}]);