(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{rZHr:function(t,e,i){"use strict";i.r(e),i.d(e,"ArticlePageModule",(function(){return C}));var n=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),a=i("tyNb"),s=i("mrSG"),c=i("Wcq6"),l=i("fXoL"),d=i("tk/3"),b=i("jhN1"),p=i("S/Aq");let g=(()=>{class t{constructor(t){this.http=t}getIPAddress(){return this.http.get("https://api.ipify.org?format=json")}}return t.\u0275fac=function(e){return new(e||t)(l.Sb(d.a))},t.\u0275prov=l.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h=(()=>{class t{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(b.b))},t.\u0275pipe=l.Kb({name:"safe",type:t,pure:!0}),t})();function f(t,e){if(1&t&&(l.Ob(0,"p",39),l.pc(1,"People involed: "),l.Ob(2,"span",21),l.pc(3),l.Nb(),l.Nb()),2&t){const t=l.Yb();l.Ab(3),l.qc(t.article.peopleInvolved)}}function u(t,e){if(1&t&&l.Mb(0,"div",44),2&t){const t=e.$implicit,i=l.Yb(3);l.ec("innerHtml",i.article.content.paragraphs[t],l.jc)}}function m(t,e){if(1&t&&(l.Ob(0,"div"),l.oc(1,u,1,1,"div",43),l.Nb()),2&t){const t=l.Yb().$implicit;l.Ab(1),l.dc("ngForOf",t.indexes)}}function w(t,e){if(1&t&&(l.Ob(0,"p",48),l.pc(1,"Artwork by: "),l.Ob(2,"span",21),l.pc(3),l.Nb(),l.Nb()),2&t){const t=l.Yb(3);l.Ab(3),l.qc(t.article.photosAuthor)}}function O(t,e){if(1&t&&(l.Ob(0,"div",45),l.Mb(1,"img",46),l.oc(2,w,4,1,"p",47),l.Nb()),2&t){const t=l.Yb().$implicit,e=l.Yb();l.Ab(1),l.ec("src",e.article.media.picture[t.indexes[0]],l.lc),l.Ab(1),l.dc("ngIf",null!=e.article.photosAuthor&&0!==e.article.photosAuthor.length)}}function v(t,e){if(1&t&&(l.Ob(0,"div"),l.Mb(1,"iframe",49),l.Zb(2,"safe"),l.Nb()),2&t){const t=l.Yb().$implicit,e=l.Yb();l.Ab(1),l.dc("src",l.ac(2,1,e.article.media.video[t.indexes[0]]),l.kc)}}function x(t,e){if(1&t&&(l.Ob(0,"ion-slide"),l.Mb(1,"img",52),l.Nb()),2&t){const t=e.$implicit,i=l.Yb(3);l.Ab(1),l.ec("src",i.article.media.picture[t],l.lc)}}function y(t,e){if(1&t&&(l.Ob(0,"div",50),l.Ob(1,"ion-slides",51),l.oc(2,x,2,1,"ion-slide",26),l.Nb(),l.Nb()),2&t){const t=l.Yb().$implicit,e=l.Yb();l.Ab(1),l.dc("options",e.slideOpts),l.Ab(1),l.dc("ngForOf",t.indexes)}}function N(t,e){if(1&t&&(l.Ob(0,"div"),l.oc(1,m,2,1,"div",40),l.oc(2,O,3,2,"div",41),l.oc(3,v,3,3,"div",40),l.oc(4,y,3,2,"div",42),l.Nb()),2&t){const t=e.$implicit;l.Ab(1),l.dc("ngIf","paragraph"===t.content),l.Ab(1),l.dc("ngIf","image"===t.content),l.Ab(1),l.dc("ngIf","video"===t.content),l.Ab(1),l.dc("ngIf","slider"===t.content)}}const A=function(t,e){return["/article",t,e]};function M(t,e){if(1&t&&(l.Ob(0,"ion-col"),l.Ob(1,"ion-item",53),l.Ob(2,"ion-col"),l.Mb(3,"img",46),l.Ob(4,"ion-card-header"),l.Ob(5,"ion-card-title",54),l.pc(6),l.Nb(),l.Nb(),l.Ob(7,"ion-card-content",55),l.Ob(8,"div"),l.pc(9),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb()),2&t){const t=e.$implicit;l.Ab(1),l.dc("routerLink",l.gc(4,A,t.category,t.id)),l.Ab(2),l.ec("src",t.media.landscape,l.lc),l.Ab(3),l.qc(t.title),l.Ab(3),l.rc(" ",t.content.header.substring(0,200),"")}}const P=[{path:"",component:(()=>{class t{constructor(t,e,i,n,o,r){this.http=t,this.activatedRoute=e,this.sanitizer=i,this.router=n,this.firestore=o,this.ip=r,this.article={id:0,title:"",author:"",date:"",peopleInvolved:[],photosAuthor:"",readTime:0,poster:"",image:"",category:"",content:{rules:{},header:"",paragraphs:[]},media:{picture:[],video:[]},reactions:{beer:0,paws:0,rid:""}},this.articles={popular:[],tipsAndTricks:[],concerts:[],cs:[]},this.slideOpts={initialSlide:0,speed:400,autoHeight:!0},this.collectionName="articles",this.gavePaws=!1,this.gaveBeer=!1,this.activatedRoute.params.subscribe(t=>{this.id=t.id,this.category=t.type}),this.disableReactions=!1}ngOnInit(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.router.onSameUrlNavigation="reload",(yield this.firestore.collection(this.collectionName).ref.orderBy("date","desc").get()).forEach(t=>{this.processSnapshopDoc(t)}),yield this.getIP();var t=this.firestore.collection("reactions").doc(this.article.reactions.rid);const e=(yield t.ref.get()).data();e.hasOwnProperty("views")&&e.views.includes(this.ipAddress)||t.update({views:c.firestore.FieldValue.arrayUnion(this.ipAddress)}),e.beers.includes(this.ipAddress)&&(this.gaveBeer=!0),e.paws.includes(this.ipAddress)&&(this.gavePaws=!0)}))}getIP(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){return new Promise((t,e)=>{this.ip.getIPAddress().subscribe(e=>{this.ipAddress=e.ip,console.log(this.ipAddress),t(!0)})})}))}processSnapshopDoc(t){return Object(s.__awaiter)(this,void 0,void 0,(function*(){const e=t.data();if(e.id==this.id&&e.category===this.category){this.article=e,this.articleHash=t.id;var i=this.firestore.collection("reactions").doc(this.article.reactions.rid);const n=(yield i.ref.get()).data();this.article.reactions.beer=n.beers.length,this.article.reactions.paws=n.paws.length}else this.buildMostPopularArticles(e)}))}updateArticle(t){const e=t.data();e.id==this.id&&e.category===this.category&&(this.article=e,this.articleHash=t.id)}buildMostPopularArticles(t){const e=this.articles.popular,i=e.length;let n=0;for(let o=0;o<i-1;o++)t.views<e[o].views&&(n+=1);for(let o=i;o>n;o--)e[o]=e[o-1];e[n]=t}ngOnDestroy(){this.router.onSameUrlNavigation="ignore"}delay(t){return new Promise(e=>setTimeout(e,t))}react(t){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.disableReactions=!0,this.articleHash.length<1&&(yield this.getIP());var e=this.firestore.collection("reactions").doc(this.article.reactions.rid);const i=(yield e.ref.get()).data();this.firestore.collection("articles").doc(this.articleHash),"paws"===t&&(i.paws.includes(this.ipAddress)?e.update({paws:c.firestore.FieldValue.arrayRemove(this.ipAddress)}).then(()=>{this.article.reactions.paws-=1,this.gavePaws=!1,this.disableReactions=!1}):e.update({paws:c.firestore.FieldValue.arrayUnion(this.ipAddress)}).then(()=>{this.article.reactions.paws+=1,this.gavePaws=!0,this.disableReactions=!1})),"beer"===t&&(i.beers.includes(this.ipAddress)?e.update({beers:c.firestore.FieldValue.arrayRemove(this.ipAddress)}).then(()=>{this.article.reactions.beer-=1,this.gaveBeer=!1,this.disableReactions=!1}):e.update({beers:c.firestore.FieldValue.arrayUnion(this.ipAddress)}).then(()=>{this.article.reactions.beer+=1,this.gaveBeer=!0,this.disableReactions=!1}))}))}objectValues(t){return Object.values(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(d.a),l.Lb(a.a),l.Lb(b.b),l.Lb(a.f),l.Lb(p.a),l.Lb(g))},t.\u0275cmp=l.Fb({type:t,selectors:[["app-article"]],decls:65,vars:10,consts:[[3,"translucent"],[1,"toolbar"],["routerLink","/home",2,"background-color","transparent","border","none","outline","none"],[1,"site-title","unselectable"],["slot","end",1,"toolbar-buttons"],["href","https://www.linkedin.com/in/adascalitei-alexandru-b48817a4/","target","_blank"],["slot","icon-only","name","logo-linkedin",1,"white-icons"],["href","https://github.com/alexdarie","target","_blank"],["slot","icon-only","name","logo-github",1,"white-icons"],["href","https://www.instagram.com/_alexdarie/","target","_blank"],["slot","icon-only","ios","logo-instagram","md","logo-instagram",1,"white-icons"],["href","https://www.messenger.com/t/alexandru.darie.1","target","_blank"],["slot","icon-only","ios","logo-facebook","md","logo-facebook",1,"white-icons"],[2,"padding","0"],[1,"parallax"],[1,"article-body"],[1,"preview-card","full-width","full-width"],[2,"padding","10px"],[2,"margin-bottom","15px","font-family","'Open sans', cursive"],[2,"margin","-10px 0 0 0"],[1,"author"],[2,"color","black"],[2,"text-transform","uppercase","font-size","13px","margin-left","auto","color","gray"],[2,"margin","-20px 0 0 0"],["class","author","style","max-width: 50%;",4,"ngIf"],[1,"author",2,"margin-left","auto"],[4,"ngFor","ngForOf"],[2,"padding","10px","margin-top","20px"],[1,"article-body-lg",2,"padding-top","10px","margin-bottom","10px","text-transform","uppercase","font-family","'Noto Sans Avestan', sans-serif","font-size","20px"],[2,"color","gray"],[1,"article-body-lg"],[2,"background-color","black"],[1,"posts-centered-container",2,"background-color","black","color","white"],[1,"card-subtitle"],["name","logo-ionic"],["name","heart"],["name","logo-firebase"],["href","https://www.messenger.com/t/alexandru.darie.1",2,"color","white"],[1,"contact-last-col"],[1,"author",2,"max-width","50%"],[4,"ngIf"],["style","padding: 0; margin: 20px 0 20px 0;",4,"ngIf"],["style","padding: 0vw; margin: 20px 0 20px 0;",4,"ngIf"],["style","font-family: 'Noto Sans Avestan', sans-serif; margin-bottom: 10px; font-size: 21px; line-height: 1.35;",3,"innerHtml",4,"ngFor","ngForOf"],[2,"font-family","'Noto Sans Avestan', sans-serif","margin-bottom","10px","font-size","21px","line-height","1.35",3,"innerHtml"],[2,"padding","0","margin","20px 0 20px 0"],[3,"src"],["class","author","style","text-align: center;",4,"ngIf"],[1,"author",2,"text-align","center"],["frameborder","0","allowfullscreen","",2,"width","100%","min-height","370px",3,"src"],[2,"padding","0vw","margin","20px 0 20px 0"],["pager","true",3,"options"],[2,"margin","auto",3,"src"],["lines","none",1,"news-min-width",3,"routerLink"],[1,"card-title"],[1,"card-content","card-text-right"]],template:function(t,e){1&t&&(l.Ob(0,"ion-header",0),l.Ob(1,"ion-toolbar",1),l.Ob(2,"ion-text"),l.Ob(3,"button",2),l.Ob(4,"h1",3),l.pc(5,"Alexandru Darie"),l.Nb(),l.Nb(),l.Nb(),l.Ob(6,"ion-buttons",4),l.Ob(7,"ion-button",5),l.Mb(8,"ion-icon",6),l.Nb(),l.Ob(9,"ion-button",7),l.Mb(10,"ion-icon",8),l.Nb(),l.Ob(11,"ion-button",9),l.Mb(12,"ion-icon",10),l.Nb(),l.Ob(13,"ion-button",11),l.Mb(14,"ion-icon",12),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(15,"ion-content"),l.Ob(16,"ion-row"),l.Ob(17,"ion-col",13),l.Mb(18,"div",14),l.Ob(19,"div",15),l.Ob(20,"ion-card",16),l.Ob(21,"div",17),l.Ob(22,"h1",18),l.pc(23),l.Nb(),l.Ob(24,"ion-row",19),l.Ob(25,"p",20),l.Ob(26,"span",21),l.pc(27),l.Nb(),l.Nb(),l.Ob(28,"p",22),l.pc(29),l.Nb(),l.Nb(),l.Ob(30,"ion-row",23),l.oc(31,f,4,1,"p",24),l.Ob(32,"p",25),l.pc(33),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.oc(34,N,5,4,"div",26),l.Nb(),l.Ob(35,"div",27),l.Ob(36,"p",28),l.Ob(37,"span",29),l.pc(38,"Recent"),l.Nb(),l.pc(39," posts"),l.Nb(),l.Ob(40,"ion-row",30),l.oc(41,M,10,7,"ion-col",26),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(42,"ion-footer",31),l.Ob(43,"ion-grid"),l.Ob(44,"ion-row",32),l.Ob(45,"ion-col"),l.Ob(46,"p",33),l.pc(47,"Alexandru Darie"),l.Nb(),l.Nb(),l.Ob(48,"ion-col",33),l.Ob(49,"p"),l.pc(50,"Coded with "),l.Mb(51,"ion-icon",34),l.pc(52,", "),l.Mb(53,"ion-icon",35),l.pc(54,", namecheap, and "),l.Mb(55,"ion-icon",36),l.pc(56,"."),l.Mb(57,"br"),l.Mb(58,"br"),l.Nb(),l.Ob(59,"p"),l.pc(60,"The fastest (and most reliable) way to reach me is on Messenger: "),l.Nb(),l.Ob(61,"p"),l.Ob(62,"a",37),l.pc(63,"m.me/alexandru.darie.1"),l.Nb(),l.Nb(),l.Nb(),l.Mb(64,"ion-col",38),l.Nb(),l.Nb(),l.Nb(),l.Nb()),2&t&&(l.dc("translucent",!0),l.Ab(18),l.nc("background-image",e.article.poster,l.Eb),l.Ab(5),l.rc(" ",e.article.title," "),l.Ab(4),l.qc(e.article.date),l.Ab(2),l.qc(e.article.category),l.Ab(2),l.dc("ngIf",null!=e.article.peopleInvolved&&0!==e.article.peopleInvolved.length),l.Ab(2),l.rc("",e.article.readTime," minute read"),l.Ab(1),l.dc("ngForOf",e.objectValues(e.article.content.rules)),l.Ab(7),l.dc("ngForOf",e.articles.popular.slice(0,3)))},directives:[r.m,r.v,r.u,r.B,a.g,r.d,r.c,r.n,r.j,r.r,r.i,r.e,n.i,n.h,r.k,r.l,r.t,r.s,r.o,r.g,r.h,r.f],pipes:[h],styles:[".article-body[_ngcontent-%COMP%]{margin:0 30vw}.article-body-lg[_ngcontent-%COMP%]{margin:0 20vw}.author[_ngcontent-%COMP%]{font-size:13px;color:grey}.author[_ngcontent-%COMP%], .post-count[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.post-count[_ngcontent-%COMP%]{font-weight:700}.card-subtitle[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:530}.card-text-right[_ngcontent-%COMP%]{text-align:right}.card-content[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.parallax[_ngcontent-%COMP%]{background-image:url(https://via.placeholder.com/2000x1333);height:100vh;background-attachment:fixed;background-position:top;background-repeat:no-repeat;background-size:cover}ion-toolbar[_ngcontent-%COMP%]{padding-left:5vw;padding-right:5vw}.site-title[_ngcontent-%COMP%]{margin:7px 0 0 1vw;font-size:29px;font-family:Josefin Sans,sans-serif;color:#000}.just-site-title[_ngcontent-%COMP%]{font-family:Monofett,cursive;font-size:20px}.title[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.posts-centered-container[_ngcontent-%COMP%]{margin:30px 10vw;background-color:#fff}.news-min-width[_ngcontent-%COMP%]{min-width:190px}.border[_ngcontent-%COMP%]{border-left:5px solid;border-bottom-width:0;border-top-width:0;border-right-width:0;-o-border-image:linear-gradient(180deg,#020024,#090979,#00d4ff);border-image:linear-gradient(180deg,#020024,#090979,#00d4ff);border-image-slice:1;height:100%}.did-not-give[_ngcontent-%COMP%]{color:grey}.gave[_ngcontent-%COMP%]{color:#fcba03}.swiper-slide[_ngcontent-%COMP%]{--background:transparent}.section-title[_ngcontent-%COMP%]{font-size:22.5px;font-family:Noto Sans Avestan,sans-serif;font-weight:700;color:grey}.preview-card[_ngcontent-%COMP%]{z-index:3000;margin-top:-2vh}.preview-card.full-width[_ngcontent-%COMP%]{margin:-2vh 0 0}.large-font[_ngcontent-%COMP%]{font-size:30px}@media screen and (min-width:2000px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 20vw}}@media only screen and (max-device-width:1366px){.parallax[_ngcontent-%COMP%]{background-attachment:scroll}}@media screen and (max-width:1500px){.article-body[_ngcontent-%COMP%]{margin:0 20vw}.article-body-lg[_ngcontent-%COMP%]{margin:0 10vw}}@media screen and (max-width:1125px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 2vw}.article-body[_ngcontent-%COMP%]{margin:0 10vw}.news-min-width[_ngcontent-%COMP%]{min-width:250px}.article-body-lg[_ngcontent-%COMP%]{margin:0 3vw}}@media screen and (max-width:950px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 1vw}.contact-last-col[_ngcontent-%COMP%]{max-width:5vw}}@media screen and (max-width:420px){.site-title[_ngcontent-%COMP%]{margin:5px 0 0 .5vw;font-size:20px}.card-title[_ngcontent-%COMP%]{font-size:18px}}"]}),t})()}];let _=(()=>{class t{}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(e){return new(e||t)},imports:[[a.h.forChild(P)],a.h]}),t})(),C=(()=>{class t{}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(e){return new(e||t)},imports:[[n.b,o.a,r.w,_,d.b]]}),t})()}}]);