(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{rZHr:function(t,i,n){"use strict";n.r(i),n.d(i,"ArticlePageModule",(function(){return L}));var e=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),c=n("tyNb"),s=n("mrSG"),a=n("Wcq6"),b=n("Cwn9"),l=n("fXoL"),d=n("tk/3"),g=n("jhN1"),p=n("0MNC"),h=n("S/Aq");let m=(()=>{class t{constructor(t){this.http=t}getIPAddress(){return this.http.get("https://api.ipify.org?format=json")}}return t.\u0275fac=function(i){return new(i||t)(l.Sb(d.a))},t.\u0275prov=l.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function f(t,i){if(1&t&&(l.Ob(0,"ion-slide"),l.Mb(1,"img",39),l.Nb()),2&t){const t=i.$implicit,n=l.Yb(4);l.Ab(1),l.cc("src",n.article.media.picture[t],l.jc)}}function u(t,i){if(1&t&&(l.Ob(0,"div",37),l.Ob(1,"ion-slides",38),l.mc(2,f,2,1,"ion-slide",24),l.Nb(),l.Nb()),2&t){const t=l.Yb().$implicit,i=l.Yb(2);l.Ab(1),l.bc("options",i.slideOpts),l.Ab(1),l.bc("ngForOf",t.indexes)}}function O(t,i){if(1&t){const t=l.Pb();l.Ob(0,"ion-col",40),l.Ob(1,"div",41),l.Wb("click",(function(){return l.hc(t),l.Yb(3).presentModal()})),l.Mb(2,"img",42),l.Nb(),l.Nb()}if(2&t){const t=i.$implicit;l.Ab(2),l.cc("src",t,l.jc)}}function w(t,i){if(1&t&&(l.Ob(0,"div"),l.mc(1,u,3,2,"div",34),l.Ob(2,"ion-grid",35),l.Ob(3,"ion-row"),l.mc(4,O,3,1,"ion-col",36),l.Nb(),l.Nb(),l.Nb()),2&t){const t=i.$implicit,n=l.Yb(2);l.Ab(1),l.bc("ngIf","slider"===t.content),l.Ab(3),l.bc("ngForOf",n.article.media.grid)}}function v(t,i){if(1&t&&(l.Ob(0,"ion-col",33),l.mc(1,w,5,2,"div",24),l.Nb()),2&t){const t=l.Yb();l.Ab(1),l.bc("ngForOf",t.objectValues(t.article.content.rules))}}function x(t,i){if(1&t&&l.Mb(0,"div",49),2&t){const t=i.$implicit,n=l.Yb(4);l.cc("innerHtml",n.article.content.paragraphs[t],l.ic)}}function y(t,i){if(1&t&&(l.Ob(0,"div"),l.mc(1,x,1,1,"div",48),l.Nb()),2&t){const t=l.Yb().$implicit;l.Ab(1),l.bc("ngForOf",t.indexes)}}function N(t,i){if(1&t&&(l.Ob(0,"div"),l.mc(1,y,2,1,"div",47),l.Nb()),2&t){const t=i.$implicit;l.Ab(1),l.bc("ngIf","paragraph"===t.content)}}function A(t,i){if(1&t&&(l.Ob(0,"ion-col",43),l.Ob(1,"div"),l.Ob(2,"h1",44),l.nc(3),l.Nb(),l.Ob(4,"ion-row",45),l.Ob(5,"p",46),l.nc(6),l.Nb(),l.Nb(),l.Nb(),l.mc(7,N,2,1,"div",24),l.Nb()),2&t){const t=l.Yb();l.Ab(3),l.pc(" ",t.article.title," "),l.Ab(3),l.pc("",t.article.readTime," minute read"),l.Ab(1),l.bc("ngForOf",t.objectValues(t.article.content.rules))}}function M(t,i){if(1&t&&l.Mb(0,"div",49),2&t){const t=i.$implicit,n=l.Yb(4);l.cc("innerHtml",n.article.content.paragraphs[t],l.ic)}}function P(t,i){if(1&t&&(l.Ob(0,"div"),l.mc(1,M,1,1,"div",48),l.Nb()),2&t){const t=l.Yb().$implicit;l.Ab(1),l.bc("ngForOf",t.indexes)}}function _(t,i){if(1&t&&(l.Ob(0,"div"),l.mc(1,P,2,1,"div",47),l.Nb()),2&t){const t=i.$implicit;l.Ab(1),l.bc("ngIf","paragraph"===t.content)}}function C(t,i){if(1&t&&(l.Ob(0,"ion-slide"),l.Mb(1,"img",39),l.Nb()),2&t){const t=i.$implicit,n=l.Yb(4);l.Ab(1),l.cc("src",n.article.media.picture[t],l.jc)}}function k(t,i){if(1&t&&(l.Ob(0,"div",37),l.Ob(1,"ion-slides",38),l.mc(2,C,2,1,"ion-slide",24),l.Nb(),l.Nb()),2&t){const t=l.Yb().$implicit,i=l.Yb(2);l.Ab(1),l.bc("options",i.slideOpts),l.Ab(1),l.bc("ngForOf",t.indexes)}}function F(t,i){if(1&t){const t=l.Pb();l.Ob(0,"ion-col",40),l.Ob(1,"div",41),l.Wb("click",(function(){return l.hc(t),l.Yb(3).presentModal()})),l.Mb(2,"img",42),l.Nb(),l.Nb()}if(2&t){const t=i.$implicit;l.Ab(2),l.cc("src",t,l.jc)}}function j(t,i){if(1&t&&(l.Ob(0,"div"),l.mc(1,k,3,2,"div",34),l.Ob(2,"ion-grid",35),l.Ob(3,"ion-row"),l.mc(4,F,3,1,"ion-col",36),l.Nb(),l.Nb(),l.Nb()),2&t){const t=i.$implicit,n=l.Yb(2);l.Ab(1),l.bc("ngIf","slider"===t.content),l.Ab(3),l.bc("ngForOf",n.article.media.grid)}}function I(t,i){if(1&t&&(l.Ob(0,"ion-col",43),l.Ob(1,"div"),l.Ob(2,"h1",44),l.nc(3),l.Nb(),l.Ob(4,"ion-row",45),l.Ob(5,"p",46),l.nc(6),l.Nb(),l.Nb(),l.Nb(),l.mc(7,_,2,1,"div",24),l.mc(8,j,5,2,"div",24),l.Nb()),2&t){const t=l.Yb();l.Ab(3),l.pc(" ",t.article.title," "),l.Ab(3),l.pc("",t.article.readTime," minute read"),l.Ab(1),l.bc("ngForOf",t.objectValues(t.article.content.rules)),l.Ab(1),l.bc("ngForOf",t.objectValues(t.article.content.rules))}}const z=function(t,i){return["/article",t,i]};function S(t,i){if(1&t&&(l.Ob(0,"ion-col"),l.Ob(1,"ion-item",50),l.Ob(2,"ion-col"),l.Mb(3,"img",42),l.Ob(4,"ion-card-header"),l.Ob(5,"ion-card-title",51),l.nc(6),l.Nb(),l.Nb(),l.Ob(7,"ion-card-content",52),l.Ob(8,"div"),l.nc(9),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb()),2&t){const t=i.$implicit;l.Ab(1),l.bc("routerLink",l.fc(4,z,t.category,t.id)),l.Ab(2),l.cc("src",t.media.square,l.jc),l.Ab(3),l.oc(t.title),l.Ab(3),l.pc(" ",t.content.header.substring(0,200),"")}}const Y=function(t){return{gave:t}},$=[{path:"",component:(()=>{class t{constructor(t,i,n,e,o,r,c,s){this.http=t,this.modalController=i,this.activatedRoute=n,this.sanitizer=e,this.breakpointObserver=o,this.router=r,this.firestore=c,this.ip=s,this.article={id:0,title:"",author:"",date:"",peopleInvolved:[],photosAuthor:"",readTime:0,poster:"",image:"",category:"",content:{rules:{},header:"",paragraphs:[]},media:{picture:[],video:[],grid:[]},reactions:{energy:0,rid:""}},this.articles={popular:[]},this.slideOpts={initialSlide:0,speed:400,autoHeight:!0},this.collectionName="articles",this.gaveEnergy=!1,this.postFeedbackProgress=0,this.maxAmountOfEnergy=10,this.wideArticle=!0,this.narrowArticle=!1,this.activatedRoute.params.subscribe(t=>{this.id=t.id,this.category=t.type}),this.disableReactions=!1}ngOnInit(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.router.onSameUrlNavigation="reload",(yield this.firestore.collection(this.collectionName).ref.orderBy("date","desc").get()).forEach(t=>{this.processSnapshopDoc(t)}),yield this.getIP();var t=this.firestore.collection("reactions").doc(this.article.reactions.rid);const i=(yield t.ref.get()).data();i.hasOwnProperty("views")&&i.views.includes(this.ipAddress)||t.update({views:a.firestore.FieldValue.arrayUnion(this.ipAddress)}),i.energy.includes(this.ipAddress)&&(this.gaveEnergy=!0),this.setViewBreakpoints()}))}setViewBreakpoints(){this.breakpointObserver.observe(["(min-width: 1199px)"]).subscribe(t=>{t.matches?(this.wideArticle=!0,this.narrowArticle=!1):(this.narrowArticle=!0,this.wideArticle=!1)})}getIP(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){return new Promise((t,i)=>{this.ip.getIPAddress().subscribe(i=>{this.ipAddress=i.ip,console.log(this.ipAddress),t(!0)})})}))}processSnapshopDoc(t){return Object(s.__awaiter)(this,void 0,void 0,(function*(){const i=t.data();if(i.id==this.id&&i.category===this.category){this.article=i,this.articleHash=t.id;var n=this.firestore.collection("reactions").doc(this.article.reactions.rid);const e=(yield n.ref.get()).data();this.article.reactions.energy=e.energy.length,this.postFeedbackProgress=e.energy.length/this.maxAmountOfEnergy}else this.buildMostPopularArticles(i)}))}updateArticle(t){const i=t.data();i.id==this.id&&i.category===this.category&&(this.article=i,this.articleHash=t.id)}buildMostPopularArticles(t){const i=this.articles.popular,n=i.length;let e=0;for(let o=0;o<n-1;o++)t.views<i[o].views&&(e+=1);for(let o=n;o>e;o--)i[o]=i[o-1];i[e]=t}ngOnDestroy(){this.router.onSameUrlNavigation="ignore"}delay(t){return new Promise(i=>setTimeout(i,t))}react(t){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.disableReactions=!0,this.articleHash.length<1&&(yield this.getIP());var i=this.firestore.collection("reactions").doc(this.article.reactions.rid);const n=(yield i.ref.get()).data();this.firestore.collection("articles").doc(this.articleHash),"energy"===t&&(n.energy.includes(this.ipAddress)?i.update({energy:a.firestore.FieldValue.arrayRemove(this.ipAddress)}).then(()=>{this.article.reactions.energy-=1,this.gaveEnergy=!1,this.disableReactions=!1,this.postFeedbackProgress=this.article.reactions.energy/this.maxAmountOfEnergy}):i.update({energy:a.firestore.FieldValue.arrayUnion(this.ipAddress)}).then(()=>{this.article.reactions.energy+=1,this.gaveEnergy=!0,this.disableReactions=!1,this.postFeedbackProgress=this.article.reactions.energy/this.maxAmountOfEnergy}))}))}objectValues(t){return Object.values(t)}presentModal(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:b.a,swipeToClose:!0,componentProps:{evnt:this.article},cssClass:"custom-modal-css"});return yield t.present()}))}}return t.\u0275fac=function(i){return new(i||t)(l.Lb(d.a),l.Lb(r.z),l.Lb(c.a),l.Lb(g.b),l.Lb(p.a),l.Lb(c.f),l.Lb(h.a),l.Lb(m))},t.\u0275cmp=l.Fb({type:t,selectors:[["app-article"]],decls:57,vars:12,consts:[[3,"translucent"],[1,"toolbar"],["routerLink","/home",2,"background-color","transparent","border","none","outline","none"],[1,"site-title","unselectable"],["slot","end",1,"toolbar-buttons"],["href","https://www.instagram.com/_alexdarie/","target","_blank"],["slot","icon-only","ios","logo-instagram","md","logo-instagram",1,"white-icons"],["href","https://github.com/alexdarie","target","_blank"],["slot","icon-only","name","logo-github",1,"white-icons"],[2,"padding","0"],[1,"parallax"],[1,"article-body"],[2,"margin-top","20px"],["class","media",4,"ngIf"],["class","textual",4,"ngIf"],["lines","none"],["slot","end"],[3,"disabled","click"],["slot","icon-only","ios","flash","md","flash",1,"did-not-give",3,"ngClass"],["tooltip","test","slot","end",3,"value"],[2,"padding","10px","margin-top","20px"],[1,"article-body-lg",2,"padding-top","10px","margin-bottom","10px","text-transform","uppercase","font-family","'Noto Sans Avestan', sans-serif","font-size","20px"],[2,"color","gray"],[1,"article-body-lg"],[4,"ngFor","ngForOf"],[2,"background-color","black"],[1,"posts-centered-container",2,"background-color","black","color","white"],[1,"card-subtitle"],["name","logo-ionic"],["name","heart"],["name","logo-firebase"],["href","https://www.messenger.com/t/alexandru.darie.1",2,"color","white"],[1,"contact-last-col"],[1,"media"],["style","padding: 0vw; margin-left: auto; margin-right: auto;",4,"ngIf"],[2,"min-width","350px"],["size","6",4,"ngFor","ngForOf"],[2,"padding","0vw","margin-left","auto","margin-right","auto"],["pager","true",3,"options"],[2,"margin","auto",3,"src"],["size","6"],[3,"click"],[3,"src"],[1,"textual"],[2,"margin-bottom","15px","font-family","'Noto Sans Avestan', sans-serif"],[2,"margin","-25px 0 0 0"],[1,"author",2,"font-family","'Noto Sans Avestan', sans-serif"],[4,"ngIf"],["style","font-family: 'Noto Sans Avestan', sans-serif; margin-bottom: 10px; font-size: 17px; line-height: 1.35;",3,"innerHtml",4,"ngFor","ngForOf"],[2,"font-family","'Noto Sans Avestan', sans-serif","margin-bottom","10px","font-size","17px","line-height","1.35",3,"innerHtml"],["lines","none",1,"news-min-width",3,"routerLink"],[1,"card-title"],[1,"card-content"]],template:function(t,i){1&t&&(l.Ob(0,"ion-header",0),l.Ob(1,"ion-toolbar",1),l.Ob(2,"ion-text"),l.Ob(3,"button",2),l.Ob(4,"h1",3),l.nc(5,"Alexandru Darie"),l.Nb(),l.Nb(),l.Nb(),l.Ob(6,"ion-buttons",4),l.Ob(7,"ion-button",5),l.Mb(8,"ion-icon",6),l.Nb(),l.Ob(9,"ion-button",7),l.Mb(10,"ion-icon",8),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(11,"ion-content"),l.Ob(12,"ion-row"),l.Ob(13,"ion-col",9),l.Mb(14,"div",10),l.Ob(15,"div",11),l.Ob(16,"ion-row",12),l.mc(17,v,2,1,"ion-col",13),l.mc(18,A,8,3,"ion-col",14),l.mc(19,I,9,4,"ion-col",14),l.Nb(),l.Nb(),l.Ob(20,"div",11),l.Ob(21,"ion-list",15),l.Ob(22,"ion-item"),l.Ob(23,"ion-buttons",16),l.Ob(24,"ion-button",17),l.Wb("click",(function(){return i.react("energy")})),l.Mb(25,"ion-icon",18),l.Nb(),l.Nb(),l.Mb(26,"ion-progress-bar",19),l.Nb(),l.Nb(),l.Nb(),l.Ob(27,"div",20),l.Ob(28,"p",21),l.Ob(29,"span",22),l.nc(30,"Recent"),l.Nb(),l.nc(31," posts"),l.Nb(),l.Ob(32,"ion-row",23),l.mc(33,S,10,7,"ion-col",24),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(34,"ion-footer",25),l.Ob(35,"ion-grid"),l.Ob(36,"ion-row",26),l.Ob(37,"ion-col"),l.Ob(38,"p",27),l.nc(39,"Alexandru Darie"),l.Nb(),l.Nb(),l.Ob(40,"ion-col",27),l.Ob(41,"p"),l.nc(42,"Coded with "),l.Mb(43,"ion-icon",28),l.nc(44,", "),l.Mb(45,"ion-icon",29),l.nc(46,", namecheap, and "),l.Mb(47,"ion-icon",30),l.nc(48,"."),l.Mb(49,"br"),l.Mb(50,"br"),l.Nb(),l.Ob(51,"p"),l.nc(52,"The fastest (and most reliable) way to reach me is on Messenger: "),l.Nb(),l.Ob(53,"p"),l.Ob(54,"a",31),l.nc(55,"m.me/alexandru.darie.1"),l.Nb(),l.Nb(),l.Nb(),l.Mb(56,"ion-col",32),l.Nb(),l.Nb(),l.Nb(),l.Nb()),2&t&&(l.bc("translucent",!0),l.Ab(14),l.lc("background-image",i.article.poster,l.Eb),l.Ab(3),l.bc("ngIf",i.wideArticle),l.Ab(1),l.bc("ngIf",i.wideArticle),l.Ab(1),l.bc("ngIf",i.narrowArticle),l.Ab(5),l.bc("disabled",i.disableReactions),l.Ab(1),l.bc("ngClass",l.ec(10,Y,i.gaveEnergy)),l.Ab(1),l.cc("value",i.postFeedbackProgress),l.Ab(7),l.bc("ngForOf",i.articles.popular.slice(0,3)))},directives:[r.l,r.w,r.v,r.C,c.g,r.c,r.b,r.m,r.i,r.s,r.h,e.j,r.p,r.n,e.h,r.q,e.i,r.j,r.k,r.u,r.t,r.f,r.g,r.e],styles:["p[_ngcontent-%COMP%]{font-size:16px}.article-body[_ngcontent-%COMP%], .article-body-lg[_ngcontent-%COMP%]{margin:0 20vw}.author[_ngcontent-%COMP%]{font-size:13px;color:grey;font-family:Noto Sans Avestan,sans-serif}.media[_ngcontent-%COMP%]{min-width:450px;margin-bottom:auto;margin-right:20px}.slider-container[_ngcontent-%COMP%]{margin:20px 1vw 30px;background-color:#f5f5f5;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top-left-radius:5px;border-top-right-radius:5px}.textual[_ngcontent-%COMP%]{min-width:350px}.post-count[_ngcontent-%COMP%]{font-weight:700}.card-subtitle[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%], .post-count[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:530}.card-text-right[_ngcontent-%COMP%]{text-align:right}.card-content[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.parallax[_ngcontent-%COMP%]{height:100vh;background-attachment:fixed;background-position:top;background-repeat:no-repeat;background-size:cover}ion-toolbar[_ngcontent-%COMP%]{padding-left:5vw;padding-right:5vw}.site-title[_ngcontent-%COMP%]{margin:7px 0 0 1vw;font-size:28px;font-family:Josefin Sans,sans-serif;color:#000}.just-site-title[_ngcontent-%COMP%]{font-family:Monofett,cursive;font-size:20px}.title[_ngcontent-%COMP%]{font-family:Noto Sans Avestan,sans-serif}.posts-centered-container[_ngcontent-%COMP%]{margin:30px 10vw;background-color:#fff}.news-min-width[_ngcontent-%COMP%]{min-width:190px}.border[_ngcontent-%COMP%]{border-left:5px solid;border-bottom-width:0;border-top-width:0;border-right-width:0;-o-border-image:linear-gradient(180deg,#020024,#090979,#00d4ff);border-image:linear-gradient(180deg,#020024,#090979,#00d4ff);border-image-slice:1;height:100%}.did-not-give[_ngcontent-%COMP%]{color:grey}.gave[_ngcontent-%COMP%]{color:#fcba03}ion-progress-bar[_ngcontent-%COMP%]{margin-left:3px;border-radius:5px;height:10px;--progress-background:#fcba03;width:15vw;min-width:120px}.swiper-slide[_ngcontent-%COMP%]{--background:transparent}.section-title[_ngcontent-%COMP%]{font-size:22.5px;font-family:Noto Sans Avestan,sans-serif;font-weight:700;color:grey}.preview-card[_ngcontent-%COMP%]{z-index:3000;margin-top:-2vh}.preview-card.full-width[_ngcontent-%COMP%]{margin:-2vh 0 0}.large-font[_ngcontent-%COMP%]{font-size:30px}@media screen and (min-width:2000px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 20vw}}@media only screen and (max-device-width:1366px){.parallax[_ngcontent-%COMP%]{background-attachment:scroll}}@media screen and (max-width:1500px){.article-body[_ngcontent-%COMP%]{margin:0 15vw}.article-body-lg[_ngcontent-%COMP%]{margin:0 10vw}}@media screen and (max-width:1125px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 2vw}.article-body[_ngcontent-%COMP%]{margin:0 10vw}.news-min-width[_ngcontent-%COMP%]{min-width:250px}.article-body-lg[_ngcontent-%COMP%]{margin:0 3vw}}@media screen and (max-width:866px){.news-min-width[_ngcontent-%COMP%]{min-width:290px;max-width:350px;margin:auto}}@media screen and (max-width:950px){.posts-centered-container[_ngcontent-%COMP%]{margin:30px 1vw}.contact-last-col[_ngcontent-%COMP%]{max-width:5vw}}@media screen and (max-width:636px){.media[_ngcontent-%COMP%]{min-width:auto}.site-title[_ngcontent-%COMP%]{font-size:22px}}@media screen and (max-width:420px){.card-title[_ngcontent-%COMP%], .site-title[_ngcontent-%COMP%]{font-size:18px}}@media screen and (max-width:330px){.site-title[_ngcontent-%COMP%]{font-size:15px}}"]}),t})()}];let E=(()=>{class t{}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(i){return new(i||t)},imports:[[c.h.forChild($)],c.h]}),t})(),L=(()=>{class t{}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(i){return new(i||t)},imports:[[e.b,o.a,r.x,E,d.b]]}),t})()}}]);